{"version":3,"sources":["components/welcome/welcome.png","assets/images/icon/default.png","assets/images/about/antd.png","assets/images/about/redux.png","assets/images/icon/newfriend.png","assets/images/icon/qunliao.png","assets/images/skin/message-bg-1.png","assets/images/skin/message-bg-2.png","assets/images/skin/message-bg-3.png","assets/images/skin/message-bg-4.png","assets/images/skin/message-bg-5.png","assets/images/skin/message-bg-6.png","assets/audio/message.mp3","redux/reducers/UserReducers.js","redux/reducers/reducers-fun.js","redux/reducers/ChatReducers.js","redux/reducers/FriendReducers.js","redux/reducers/GlobalReducers.js","redux/store.js","redux/types/UserTypes.js","redux/types/ContactTypes.js","redux/types/InitTypes.js","redux/types/MessageTypes.js","redux/types/FriendTypes.js","components/welcome/index.jsx","config/config.js","utils/index.js","api/index.js","redux/actions/UserActions.js","redux/actions/FriendActions.js","redux/actions/InitActions.js","redux/actions/ContactActions.js","redux/actions/MessageActions.js","pages/maillist/friend/profile.jsx","pages/chat/message/header.jsx","pages/chat/message/headerGroup.jsx","components/group/details.jsx","pages/chat/message/message.jsx","components/message/face.jsx","pages/chat/message/textarea.jsx","pages/chat/message/index.jsx","pages/maillist/friend/newfriend.jsx","pages/maillist/friend/addfriend.jsx","components/layout/index.jsx","pages/chat/contacts/search.jsx","components/group/item.jsx","pages/chat/contacts/index.jsx","pages/chat/index.jsx","config/settingMenu.js","components/setting-nav/index.jsx","components/commom/user-info/index.jsx","pages/setting/user/index.jsx","pages/setting/message/index.jsx","pages/setting/page/index.jsx","pages/setting/login/index.jsx","config/settingNav.js","pages/setting/about/index.jsx","pages/setting/index.jsx","pages/maillist/list/search.jsx","pages/maillist/list/userlist.jsx","pages/maillist/index.jsx","pages/login/login.jsx","pages/login/register.jsx","router/index.js","socket/event.js","socket/index.js","config/skinConfig.js","components/left-nav/index.jsx","components/sound/message.jsx","pages/app.jsx","index.js","assets/images/about/react.png"],"names":["module","exports","initUser","userInfo","msg","redirectTo","contacts","searchList","unread","initMessList","state","data","messList","messStatus","user_id","friend_id","list","messKey","loadStatus","length","page","showMoreText","loading","handleMessAppend","key","time","unshift","type","map","item","PubSub","publish","count","hideShowMoreText","handleChatInfoLoading","chatUserInfo","handleMessSendRecv","send_id","recv_id","withDrawMessageFun","message_id","nickname","index","findIndex","id","local_message_id","push","splice","initChatInfo","showRightType","friendInfo","newFriend","mailList","info","newFriendNum","initGlobalData","socket","responseMsg","message","reducers","combineReducers","user","action","sessionList","msgUnreadNum","sendUserInfo","contact","last_mess","created_at","unread_num","chat","funs","friend","number","option","globalData","globalResponse","createStore","composeWithDevTools","applyMiddleware","thunk","Welcome","className","src","welcome","width","alt","Component","serverUrl","getItem","localStorage","setItem","JSON","stringify","pySegSort","String","prototype","localeCompare","letters","split","zh","segs","forEach","i","cur","letter","Request","url","paramStr","Object","keys","substring","axios","get","headers","indexOf","post","friendTimeShow","date","currendHourMin","dateSplit","hourMinSec","substr","getIntervalDay","replace","toString","year","month","day","d1","Date","dd","y","getFullYear","m","getMonth","d","getDate","d2","parseInt","nowDate","getTime","offset_GMT","getTimezoneOffset","today","twoDigits","getHours","getMinutes","currentTime","timezone","getSeconds","handleMessage","__html","createMsgID","arr","sort","Math","random","reqLogin","username","password","reqRegister","reqUpdateUinfo","fieldName","fieldValue","reqUpdatePassword","new_password","reqUserSearch","keyword","reqDelContactItem","reqFriendRemark","remark","reqHistoryMessage","userLoginInfo","setResponseMsg","logout","dispatch","a","removeItem","getMailList","getNewFriends","recvNewFriend","showFriendInfo","setFriendInfo","changeRightType","getFriendList","response","code","error","handleFriendVerify","emit","store","getState","status","initSessionList","initChatData","initUnreadNum","needSend","modifyContacts","getLastMessage","lastItem","setContactLastMessage","last_message","appendMesslist","hiddenMoreText","receiveChatMsg","sendChatMsg","withDrawMessage","recvChatMsg","Profile","visible","nickRemark","confirmLoading","openMessage","props","history","pathname","removeFriend","changeModalStatus","setState","setNickRemark","e","target","value","saveFriendNickName","modifyFriendNickRemark","setTimeout","getItemList","itemName","itemValue","area","nick_remark","mobile","autograph","span","onClick","style","textAlign","textIndent","nickModalDom","title","onCancel","onOk","Item","prefix","color","placeholder","onChange","defaultValue","this","size","shape","avatar","block","connect","withRouter","MessHeader","showUserInfo","fontSize","marginLeft","rotate","MessHeaderGroup","GroupDetails","showDetails","createMemberDom","icon","join","gutter","margin","checkedChildren","unCheckedChildren","prevTime","Message","loadmore","previewImage","withdraw","withDrawMsgIns","getMoreMessage","findMoreMessage","createLoadMoreDom","spin","createMessList","header","createMessHeader","msgTimeDom","createMessTimeDom","createSelfMessageNode","createFriendMessageNode","createdTime","endTime","parse","messageDom","floor","name","minWidth","createDropMessDom","clear","menu","copyMessage","trigger","overlay","onVisibleChange","setMessageInfo","createMessContentDom","dangerouslySetInnerHTML","height","overflow","once","DefaultIcon","picPreview","selectText","document","getSelection","copy","picPath","scrollToBottom","scrollTo","element","scroller","duration","smooth","containerId","subscribe","_","res","active","paragraph","rows","footer","emjoyList","FaceEmjoy","sendFace","emjoy","nativeEvent","stopImmediatePropagation","parent","getFaceItem","showFace","display","ChatTextarea","setMessageValue","object","faceEmjoy","sortContacts","filterMessage","preventDefault","sendChatMess","keyCode","shiftKey","pushChatMsg","onclick","accept","multiple","maxFiles","onDrop","files","sendPicMsg","getRootProps","getInputProps","disabled","marginRight","TextArea","onPressEnter","float","file","preview","URL","createObjectURL","upload","param","FormData","append","Header","Content","Footer","MessageLayout","skin","getChatHeaderDom","is_group","backgroundImage","NewFriend","createMailListDom","itemLayout","dataSource","renderItem","actions","createOptionButton","Meta","marginTop","description","0","handleVerify","1","2","createRemarkModal","addFriendAction","setRemark","searchAction","findUserList","setFriendID","addFriend","marginBottom","banner","showIcon","Search","enterButton","onSearch","orientation","callback","success","Sider","LayoutMain","getRenderRight","router","defaultCollapsed","collapsedWidth","theme","path","component","components","InputSearch","console","log","GroupItem","createGroupMemberDom","groupInfo","member","Contacts","createListItemDom","joinGroupRoom","onContextMenu","setSessionId","joinPrivateRoom","unshiftContacts","handleMenuEvent","removeContactItem","group_name","ChatContainer","menuList","SettingNav","getMenuDom","to","menuDoms","location","selectedKeys","UserInfo","avatarVisible","infoVisible","passwordVisible","oldPassword","newPassword","confirmPassword","uploadDisabled","setFieldValue","setInputValue","field","setModifyField","handleModifyInfo","modifyUserInfo","beforeuploadAvatar","includes","uploadProgress","syncUserAvatar","createAvatarModal","Dragger","showUploadList","beforeUpload","modifyPassword","createFormInput","self","confirm","content","cancelText","okText","User","MessageSetting","PageSetting","defaultChecked","LoginSetting","SettingNavRouter","ReactImg","AntdImg","ReduxImg","role","aria-label","href","rel","Setting","getContentDom","exact","ContentRouterDom","showAddFriend","removeSelect","UserList","showNewFriend","getNewFriendList","getUserInfoById","find","groupIcon","MailList","Login","loginLoading","hasErrors","fieldsError","some","handleSubmit","form","validateFields","err","values","login","register","getFieldDecorator","getFieldsError","getFieldError","isFieldTouched","window","reload","usernameError","passwordError","ReactLogo","onSubmit","validateStatus","help","rules","required","htmlType","callBack","token","open","create","Register","top","Routers","ChatMessage","socketObject","setInterval","init","initMain","MessServerConnect","io","query","reconnection","on","Event","skinList","messageBg1","messageBg2","messageBg3","messageBg4","messageBg5","messageBg6","LeftNav","screenType","createSkinModal","showSkinModal","setMessageBg","toSetting","resetFullScreen","setFullScreen","mode","dot","bottom","MessageSound","audioSource","load","play","catch","ref","audio","messageSound","App","pathName","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.497c4d2b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/welcome.bc69af85.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAG1BMVEXx8fHd3d3j4+Pm5ubr6+vg4ODv7+/o6Ojt7e1vKX0qAAAC/ElEQVR42u2Wz27TQBCH869Ojh3bW+cYJ1RwtAktPTaqoNe4RYijg+CeAA/gCKG+NjOzm5gYe/MCv0+q7Xh3/O3OjrfuAQAAAAAAAAAAAAAAAAAAAAAAAAAA0E7wsGTelXL9OBcW99owumvp/HPpuNUu/POXXCxt8++qQzIgJZLrlJS1NvRN3enl7eKu7qzIzws+JyKjTIdQzDokfbJc1pKZa5AZKR+IeX0qKeWnkwx5XOq66pTMGTuVNJwL9uFDyk4nu+V70qy9FvrUOYW32iG2/aZdEh3wuKBSJL2aEQ9PmbDg6YbcxLRX3edS02azvaHYI2FWfNLwmiI+JpSH+7IoOyV9MvYZiUeip+2pZJjlkb3K6Yu96JRs7DRTivySTVOSx3tbXmMJ9Uv2RtYvIAr9kn0zXUV8YVv+0OycZBXSWkZTGK8kSKlshK/Htrx2VJ2T7EKKpbjybsmSuaawDncFPLHllctNvySP0kgyvqfS/zJONXwpyMglV2mseYvaJZPr54MkTVZG5nNBlVdi7k+3lRVJlCSSknbJmMxREnPSWTXgo0fylNV7l24Odv6akbgjXY8fD5JiOqAsID5uvdWlOEnm3kQdmM7EvyYBXWmdrHkhPZKqGc5Bcpi5NfFLuEICinkaY5p1SwZh1QjXMQWFJC4/J9HBpNGGqpFHwn+fG+H2RcwTOZjyjEReqJXZGZ7SZbdkSGEjfGX0GMrB/8a7aW8oTWRxPGuSU3YS7nL0nfQRyRnJQMdJUykzj+QrRXV4vc0P7ebqCrPqkGhuR0QzCfNIJgVtXXhdXIfy2lAoXW6iLkmfKtmCt7KIHgknPtZw9+VyKHgtrwmRef+QUovkG8Wle2lzqiTLHonuEfWHhCsuNzJWKtOmRBti+Xdii0Q3olbcppZTKQdlffwc2tuR7YiJyv8kfbnNvUIRvrGmVoZPpZ6e9dNHMFlv+ErbJFKY/CjMouo5buJ/Z/KJy+a4EoOoBwAAAAAAAAAAAAAAAAAAAAAAAAAAgI+/XYFzh4W+lfIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/redux.b46834f8.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAA7VBMVEX6nTv////7tm76oUT++PH+8OH++vX7tGn92LH+7t3++/j+8ub+/Pn6nTz++fT95cv937/+/v77uXP+/fz81q396tb6oUP6q1f7sWT+/v36qVT8ypb81q7+8eT6rVv96dP92rX7uHH81az959D95s781av8z5/6qlX6o0f6pEr+79/94cT7vHn7u3j7vHr6oEL7u3f6nj77v4D7vXz8yJH++PL+7t76n0D7t3D96tX92bT93r37tWz+9u36nj37wob+9u76r1/96NH8xo7917D92LL++vb+8OL6rFr948j8zp78x4/+7+D81Kn6rVyUsFEiAAABZElEQVR4Xu3UVY7cUBSE4b+MzYzDzBNkZob9LycvltX2nXauTl4Syd8CSjrIf6JWq9W6wV6z12vuBV3+ys6uMrs72LHfUq61j1na0YpOilHYVkE7xOZEJSeYzCKVRLexuJLjGosDOQ6w6MvRx6IpRxOLCzkusJjKMcViIMcAi005NrHYkGMDk0OVHGKzWKpgucBoSwVbWIXbWrEdYpYqp2GKHZfODhndU+4+GYJGnCRxI8AfI+WeAADzI2WO5ng7Vm6StS1SLkrxdGus3PAOwDzSimiOj7vfhlox/g5kdUFWHR5GP1T0EwIVgxTwJ7++qmwEjXJQg2rnk7EcpxCXg+Lq5jx4KJdmkEgiJymhQvpINwqh5R/E4+OhbvYFPvuXdvZU64zgmX+zn2utCbzwH39Ha718BX3vhVSF13De9j0RVXhzBm97nkebqMKgC6fv/N7I+8qkDwDBx/hT9tj+PbVarfYb2XEVnzvRAPUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAABRFBMVEUrokX////4/PlmvHleuHJOsWTz+fRiunX0+vX9/v213r6GypUuo0c+qlWb06c6qFJwwIJxwYPA48jw+PLt9++a0qbP6tXm9Okto0fK6NH+/v7Y7t1NsWPT7Nk4p1B+xo7a7t6u27jo9evc8OHD5Mqm17D7/fw3p08vo0j5/Pl5xIlWtGq54MHc7+BguXNrvn36/fvi8uaZ0qbs9u4sokav27hZtm2c06h6xYux3bvS69czpUxBq1hQsmW64cPL6NFYtm02p0/v+PGEyZMypUvJ59B7xYuy3bvZ7t5huXQ5qFKf1atRsmY8qVTr9u36/Po1pk6d1Knd8OHF5cxuv4BfuHKSz6Bct3BPsmVjunaOzZz8/fwwpErN6dO54MJ8xYx5xIqo2bOe1KrI5s5bt2/q9ezu9/D3+/jX7dtErVtduHGFyZSFauUDAAABrUlEQVR4Xu3S1atbURTE4d/E3f26u7vU3d3d7f9/b9gpIclpkn1yW2jhfK8DA4s1/Ac8Ho9nO7wzHgqN74S3OZFgSb+UgpyA36cmn5+BPVpQi4UAA5orq015jsHcUIf3QCx0tfgNV0Yj6hAZhSVJX+K4sS+HfeCB6h7jQkwOMeCH6l4sYW9KDlPANVP5NYG1iBwiwC0ZD7Hmk4MPeCnjHdYm5TAJJGVsYK0qhypwVsZ5rKXkkALGZLzCWlAOQeC1jCL2RtRhBEjekfEUewF1CAATMkq4caA2B8D3moxnuJHeUoutNJzbkFHFnYxaZIAraljFGGhLl4BTajiNW1k1ZYHnavDjVqD9ZZfVcAG3Uu2rvngoIxTAnbV1Na2vAXeXZfje4EJis6YWtc0EsHpGxoeP2PKvqMOKHyB8KCN3ExvD03LS9DBApmyC6ESSftIzs/qt2Zk0cHQvaoJ8lp4q8by6yscrwJPbMt7Sw+6QehraBY7vm+ATXVWKUfURLVbg+LMJ6GY+Jwu5eRjrXbQnK3twXXXLdFOQlQL9yNIfL/r7py1aNRUW+Yd5PB7PT0+fI1yVqTj3AAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/message-bg-1.ba668054.png\";","module.exports = __webpack_public_path__ + \"static/media/message-bg-2.f68659bf.png\";","module.exports = __webpack_public_path__ + \"static/media/message-bg-3.6aa45ecd.png\";","module.exports = __webpack_public_path__ + \"static/media/message-bg-4.8b617c04.png\";","module.exports = __webpack_public_path__ + \"static/media/message-bg-5.838fe48c.png\";","module.exports = __webpack_public_path__ + \"static/media/message-bg-6.918f8e8f.png\";","module.exports = __webpack_public_path__ + \"static/media/message.0bf76389.mp3\";","import { AUTH_SUCCESS, USERINFO, LOGOUT, SET_REDIRECT_PATH, USERSEARCH_LIST } from \"../types/UserTypes\";\nimport { ERR_MSG, UPDATE_UNREADNUM } from \"../types/InitTypes\";\nimport { MODIFY_USER_CONTACTS, USERSESSION_LIST } from \"../types/ContactTypes\";\nimport { RECEIVE_CHAT_MSG } from \"../types/MessageTypes\";\n\n// 存储当前登录用户信息\nconst initUser = {\n    userInfo: {},   // 存放用户信息\n    msg: '',        // 登录验证消息\n    redirectTo: '', // 重定向地址\n    contacts: [],   // 历史会话列表\n    searchList: [], // 搜索到的用户列表\n    unread: 0       // 消息未读数\n}\n\nexport const user = (state = initUser, action) => {\n    switch (action.type) {\n        case AUTH_SUCCESS:\n            return {...action.data, ...state, msg: null, redirectTo: '/'}\n        case USERINFO:\n            const { userInfo, contacts } = action.data\n            return contacts ? {...state, userInfo, contacts} : {...state, userInfo}\n        case USERSESSION_LIST: // 会话列表\n            const { sessionList } = action.data\n            return {...state, contacts: sessionList}\n        case LOGOUT:\n            return {...action.data, redirectTo: '/login'}\n        case ERR_MSG:\n            return {...state, msg: action.data, redirectTo: '/login'}\n        case SET_REDIRECT_PATH:\n            return { redirectTo: `${action.data}` }\n        case USERSEARCH_LIST:\n            return {...state, searchList: action.data}\n        case MODIFY_USER_CONTACTS:\n            return {...state, contacts: action.data.contacts}\n\n        case UPDATE_UNREADNUM: // 消息未读数\n            const { msgUnreadNum } = action.data\n            return { ...state, unread: msgUnreadNum }\n\n        case RECEIVE_CHAT_MSG: // 收到消息时\n            // 更新 contacts 数据\n            let { sendUserInfo, send_id } = action.data\n            const contact = state.contacts\n            const index = contact.findIndex(user => user.friend_id === send_id)\n            if(index < 0) {\n                // 直接追加的话，user_id 与 friend_id 是颠倒的\n                const { user_id, friend_id } = sendUserInfo;\n                sendUserInfo['user_id'] = friend_id; sendUserInfo['friend_id'] = user_id;\n                contact.unshift(sendUserInfo)\n            } else { // 改变位置\n                contact[index]['last_mess'] = sendUserInfo.last_mess\n                contact[index]['created_at'] = sendUserInfo.created_at\n                contact[index]['unread_num'] = sendUserInfo.unread_num ?? contact[index]['unread_num'] + 1\n                contact.unshift(contact.splice(index, 1)[0])\n            }\n            return { ...state, contacts: contact }\n        default:\n            return state\n    }\n}\n","/**\n * reducers 涉及的方法实现\n */\nimport PubSub from 'pubsub-js'\n\n// 初始化当前窗口的聊天记录\nexport const initMessList = (state, data) => {\n    const { messList, messStatus } = state\n    const { user_id, friend_id, list } = data\n    const messKey = user_id > friend_id ? `${friend_id}${user_id}` : `${user_id}${friend_id}`\n    messList[messKey] = list\n    // 初始化当前聊天窗口数据状态\n    const loadStatus = list && list.length >= 15\n    messStatus[messKey] = messStatus[messKey] || { page: 0, showMoreText: loadStatus }\n    return { ...state, loading: false, messList  }\n}\n\n// 处理聊天记录追加\nexport const handleMessAppend = (state, data) => {\n    let { messList, messStatus } = state\n    const { friend_id, user_id, list, page } = data\n    const key = user_id > friend_id ? `${friend_id}${user_id}` : `${user_id}${friend_id}`;\n    const time = list.length > 0 ? list[0]['created_at'] : null\n    messList[key].unshift({ type: 'separate', page, time })\n    list.map(item => messList[key].unshift(item))\n    messStatus[key]['page'] = page\n    PubSub.publish('messListUpdateCount', { count: list.length, key })\n    return {...state, messList, messStatus}\n}\n\n// 隐藏指定窗口的加载更多文字状态\nexport const hideShowMoreText = (state, data) => {\n    const { messStatus, messList } = state\n    const { user_id, friend_id } = data\n    const key = user_id > friend_id ? `${friend_id}${user_id}` : `${user_id}${friend_id}`;\n    messStatus[key]['showMoreText'] = false\n    messList[key].unshift({ type: 'messdone' }) // 追加一条消息加载到底提示\n    return { ...state, messStatus }\n}\n\n// 处理聊天记录的loading状态\nexport const handleChatInfoLoading = (state, data) => {\n    const { messList } = state\n    const { chatUserInfo: {user_id, friend_id} } = data\n    const key = user_id > friend_id ? `${friend_id}${user_id}` : `${user_id}${friend_id}`;\n    const loading = !messList[key]\n    return {...state, ...data, loading}\n}\n\n// 处理消息接收与发送\nexport const handleMessSendRecv = (state, data) => {\n    const { messList } = state\n    const { send_id, recv_id } = data\n    const key = send_id > recv_id ? `${recv_id}${send_id}` : `${send_id}${recv_id}`;\n    if(messList[key]) {\n        messList[key] = [...messList[key], data];\n    }\n    return { ...state, messList }\n}\n\n// 消息撤回\nexport const withDrawMessageFun = (state, data) => {\n    const { messList } = state\n    const { user_id, friend_id, message_id, nickname } = data\n    const key = user_id > friend_id ? `${friend_id}${user_id}` : `${user_id}${friend_id}`;\n    if(messList[key]) {\n        const index = messList[key].findIndex(item => {\n            return item.id ? item.id === message_id : item.local_message_id === message_id;\n        })\n        messList[key][index]['message'] = `${nickname}撤回了一条消息`\n        messList[key][index]['status'] = 0\n        messList[key].push(messList[key].splice(index, 1)[0])\n    }\n    return { ...state, messList }\n}\n","// 当前查看的消息列表\nimport * as funs from \"./reducers-fun\";\nimport { INIT_CHAT_INFO, INIT_MESS_LIST, CHANGE_RIGHT_TYPE } from \"../types/InitTypes\";\nimport { SEND_CHAT_MSG, RECEIVE_CHAT_MSG, APPEND_MESSLIST, HIDDEN_MORETEXT, WITHDRAW_MESSAGE } from \"../types/MessageTypes\";\n\n// 存储聊天信息等\nconst initChatInfo = {\n    loading: true,\n    messList: {}, // 存放用户聊天记录，键名规则：user_id,friend_id从小到大组合，如：1，2，则键名=12\n    messStatus: {}, // 存放聊天界面的状态（page，showMoreText）\n    chatUserInfo: {},\n    showRightType: 'welcome', /* 右侧显示内容 */\n}\n\nexport const chat = (state = initChatInfo, action) => {\n    switch (action.type) {\n        case INIT_CHAT_INFO:\n            return funs.handleChatInfoLoading(state, action.data)\n\n        case INIT_MESS_LIST: // 初始化消息列表\n            return funs.initMessList(state, action.data)\n\n        case SEND_CHAT_MSG:    /* 发送消息 */\n        case RECEIVE_CHAT_MSG: /* 接收消息 */\n            return funs.handleMessSendRecv(state, action.data)\n\n        case APPEND_MESSLIST: // 追加消息并更新当前窗口的状态\n            return funs.handleMessAppend(state, action.data)\n\n        case HIDDEN_MORETEXT: // 隐藏窗口中加载更多文字\n            return funs.hideShowMoreText(state, action.data)\n\n        case WITHDRAW_MESSAGE: // 消息撤回\n            return funs.withDrawMessageFun(state, action.data)\n\n        case CHANGE_RIGHT_TYPE:\n            return {...state, ...action.data}\n        default:\n            return state\n    }\n}\n","import { INIT_FRIEND_INFO, GET_NEW_FRIENDS, GET_USER_MAILLIST, SETNEWFRIEND_NUM } from \"../types/FriendTypes\";\n\n// 存储当前点击的用户信息\nconst friendInfo = {\n    newFriend: [],   // 好友请求列表\n    mailList: [],    // 通讯录列表\n    info: {},        // 当前进入好友详情\n    newFriendNum: 0, // 新的好友请求\n}\n\nexport const friend = (state = friendInfo, action) => {\n    switch (action.type) {\n        case INIT_FRIEND_INFO:\n            return {...state, info: action.data}\n        case GET_NEW_FRIENDS:\n            return {...state, newFriend: action.data}\n        case GET_USER_MAILLIST:\n            return {...state, mailList: action.data}\n        case SETNEWFRIEND_NUM: // 好友申请数自增1/自减1/=x\n            const { type, number } = action.data\n            const option = {\n                'inc': state.newFriendNum + 1,\n                'reduce': state.newFriendNum > 0 ? state.newFriendNum - 1 : 0,\n                'assign': number\n            };\n            return {...state, newFriendNum: option[type]}\n        default:\n            return state\n    }\n}\n","// 全局对象\nimport { SET_GLOBAL_SOCKET, SET_RESPONSE_MSG } from \"../types/InitTypes\";\n\n// 全局对象\nconst initGlobalData = {\n    socket: null\n}\n\n// 设置提示信息 - 用于请求后对响应结果的提示\nconst responseMsg = {\n    type: 200, // 对应的响应类型 200 | !200\n    page: null, // 对应的页面或接口\n    message: null // 提示信息\n}\n\nexport const globalData = (state = initGlobalData, action) => {\n    switch (action.type) {\n        case SET_GLOBAL_SOCKET: // 设置全局socket对象\n            return { socket: action.data }\n        default:\n            return state\n    }\n}\n\n/**\n * 设置全局响应提示，目前只有 common/user-info/index.jsx中使用了这种提示方式\n * 这种方式虽然实现起来比较繁琐，但是可以提高耦合性，后面根据实际情况再做调整\n * 目前 redux 交互的代码有点杂乱无章，v2版本时考虑重写，毕竟这还是年初边学边做时的产物～～\n * @description 2020-10-26 15:20 新增\n * @param {*} state\n * @param {*} action\n */\nexport const globalResponse = (state = responseMsg, action) => {\n    switch (action.type) {\n        case SET_RESPONSE_MSG:\n            const { type, page, message } = action.data\n            return { ...state, type, page, message }\n        default:\n            return state\n    }\n}\n","/**\n * redux最核心的管理对象模块\n * redux-thunk 异步支持\n * redux-devtools-extension 浏览器调试插件\n * 最终向外暴露 store 对象（即 reducers 中定义的对象）\n */\nimport { createStore, applyMiddleware } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport thunk from 'redux-thunk'\nimport { combineReducers } from 'redux'\n\nimport { user } from './reducers/UserReducers'\nimport { chat } from './reducers/ChatReducers'\nimport { friend } from './reducers/FriendReducers'\nimport { globalData, globalResponse } from './reducers/GlobalReducers'\n\nconst reducers = combineReducers({\n    user, chat, friend, globalData, globalResponse\n})\n\n// 向外暴露 store 对象\nexport default createStore(\n    reducers,\n    composeWithDevTools(applyMiddleware(thunk))\n)\n","export const AUTH_SUCCESS         = 'auth_success' // 登录成功的 type 类型\nexport const LOGOUT               = 'logout' // 用户退出登录\nexport const SET_REDIRECT_PATH    = 'set_redirect_path'  // 设置重定向地址\nexport const SET_RESPONSE_MSG     = 'set_response_msg'   // 设置响应结果\nexport const USERINFO             = 'user_info' // 获取用户信息成功\nexport const USERSEARCH_LIST      = 'usersearch_list' // 添加好友 -> 检索结果\n","export const MODIFY_USER_CONTACTS = 'modify_user_contacts' // 修改消息会话列表\nexport const USERSESSION_LIST  = 'usersession_list'   // 用户会话列表\n","export const INIT_CHAT_INFO    = 'init_chat_info'\nexport const INIT_MESS_LIST    = 'init_mess_list'\nexport const CHANGE_RIGHT_TYPE = 'change_right_type'\nexport const ERR_MSG           = 'err_msg' // 各种错误提示信息\nexport const SET_GLOBAL_SOCKET = 'set_global_socket'  // 设置全局socket对象\nexport const SET_RESPONSE_MSG  = 'set_response_msg'   // 设置响应结果\nexport const UPDATE_UNREADNUM  = 'update_unreadnum'   // 消息未读数\n","export const APPEND_MESSLIST      = 'append_messlist'    // 追加消息\nexport const WITHDRAW_MESSAGE     = 'withdraw_message'   // 消息撤回\nexport const HIDDEN_MORETEXT      = 'hidden_moretext'    // 隐藏聊天窗口中加载更多文字\nexport const RECEIVE_CHAT_MSG     = 'receive_chat_msg'\nexport const SEND_CHAT_MSG        = 'send_chat_msg'\n","export const GET_NEW_FRIENDS      = 'get_new_friends' // 获取好友申请列表\nexport const GET_USER_MAILLIST    = 'get_user_mail_list' // 获取好友通讯录列表\nexport const INIT_FRIEND_INFO     = 'init_friend_info'\nexport const SETNEWFRIEND_NUM     = 'setnewfriend_num'   // 新的好友申请数量自增1/自减1/=x\n","import React, { Component } from 'react'\n\nimport welcome from './welcome.png'\nexport default class Welcome extends Component {\n    render() {\n        return (\n            <div className=\"empty-page\">\n                <img src={welcome} width=\"310\" alt=\"欢迎\" />\n            </div>\n        )\n    }\n}","// 接口地址\nexport const serverUrl = 'http://react-server.lmsail.com:7272'\n// export const serverUrl = 'http://127.0.0.1:8008'\n\n// socket 连接地址\nexport const socketUrl = 'http://react-server.lmsail.com:7272'\n// export const socketUrl = 'http://127.0.0.1:8008'\n","/**\r\n * 包含n个工具函数的模块\r\n */\r\nimport axios from 'axios'\r\nimport { serverUrl } from '../config/config'\r\n\r\n/**\r\n * 获取缓存 / 设置缓存\r\n * @description 这里多次一举封装是因为便于后期使用其它缓存方式\r\n * @param {*} key\r\n */\r\nexport const getItem = key => localStorage.getItem(key);\r\nexport const removeItem = key => localStorage.removeItem(key);\r\nexport const setItem = (key, data) => {\r\n    typeof data === 'object' ? localStorage.setItem(key, JSON.stringify(data))\r\n        : localStorage.setItem(key, data)\r\n}\r\n\r\n// 通讯录根据昵称拼音首字母排序并分组\r\nexport const pySegSort = list => {\r\n    if (!String.prototype.localeCompare) return null\r\n    let letters = 'abcdefghjklmnopqrstwxyz'.split('')\r\n    let zh = '阿八嚓哒妸发旮哈讥咔垃痳拏噢妑七呥扨它穵夕丫帀'.split('')\r\n    let segs = []\r\n    letters.forEach((item, i) => {\r\n        let cur = {letter: item, data: []}\r\n        list.forEach(item => {\r\n            const nickname = item.nickname\r\n            if (nickname.localeCompare(zh[i]) >= 0 && nickname.localeCompare(zh[i + 1]) < 0) {\r\n                cur.data.push(item)\r\n            }\r\n        })\r\n        if (cur.data.length) segs.push(cur)\r\n    })\r\n    return segs\r\n}\r\n\r\n/**\r\n * 网络请求\r\n * @param {*} url\r\n * @param {*} data\r\n * @param {*} type\r\n */\r\nexport const Request = (url, data = {}, type = 'POST') => {\r\n    url = `${serverUrl}${url}`\r\n    if (type === 'GET') {\r\n        let paramStr = ''\r\n        Object.keys(data).forEach(key => paramStr += `${key}=${data[key]}&`)\r\n        if (paramStr) {\r\n            paramStr = paramStr.substring(0, paramStr.length - 1)\r\n        }\r\n        return axios.get(url + '?' + paramStr)\r\n    } else {\r\n        let headers = {\"Authorization\": `Bearer ${getItem('token')}`}\r\n        if(url.indexOf('upload') >= 0) headers['Content-Type'] = 'multipart/form-data'\r\n        return axios.post(url, data, { headers })\r\n    }\r\n}\r\n\r\n/**\r\n * 时间友好格式化\r\n * @param {*} date\r\n */\r\nexport const friendTimeShow = date => {\r\n    if(!date) return currendHourMin()\r\n    const dateSplit = date.split(' ')\r\n    const hourMinSec = dateSplit[1].substr(0, 5);\r\n    const count = getIntervalDay(date);\r\n    if(count === 0) {\r\n        return hourMinSec; // 今天的时间\r\n    } else if(count === 1) {\r\n        return '昨天 ' + hourMinSec;\r\n    } else if(count > 1 && count < 5) {\r\n        return count + '天前';\r\n    } else {\r\n        const monthDay = dateSplit[0].substr(5, 10);\r\n        return monthDay + \" \" + hourMinSec;\r\n    }\r\n}\r\n\r\n/**\r\n * 计算间隔天数\r\n * @param {*} data 2020-10-29\r\n */\r\nexport const getIntervalDay = data => {\r\n    data = data.replace(/-/g, '')\r\n    const date = data.toString();\r\n    const year = date.substring(0, 4);\r\n    const month = date.substring(4, 6);\r\n    const day = date.substring(6, 8);\r\n    const d1 = new Date(year + '/' + month + '/' + day);\r\n\r\n    const dd = new Date();\r\n    const y = dd.getFullYear();\r\n    const m = dd.getMonth() + 1;\r\n    const d = dd.getDate();\r\n\r\n    const d2 = new Date(y + '/' + m + '/' + d);\r\n    return parseInt(d2 - d1) / 1000 / 60 / 60 / 24;\r\n}\r\n\r\n// 获取当前时分\r\nexport const currendHourMin = () => {\r\n    const nowDate = new Date().getTime();\r\n    const offset_GMT = new Date().getTimezoneOffset();\r\n    const today = new Date(nowDate + offset_GMT * 60 * 1000 + 8 * 60 * 60 * 1000);\r\n    return twoDigits(today.getHours()) + \":\" + twoDigits(today.getMinutes());\r\n}\r\n\r\n// 获取当前时间\r\nexport const currentTime = () => {\r\n    const timezone = 8;\r\n    const offset_GMT = new Date().getTimezoneOffset();\r\n    const nowDate = new Date().getTime();\r\n\r\n    const today = new Date(nowDate + offset_GMT * 60 * 1000 + timezone * 60 * 60 * 1000);\r\n    const date = today.getFullYear() + \"-\" + twoDigits(today.getMonth() + 1) + \"-\" + twoDigits(today.getDate());\r\n    const timeHour = twoDigits(today.getHours()) + \":\" + twoDigits(today.getMinutes()) + \":\" + twoDigits(today.getSeconds());\r\n    return date + ' ' + timeHour;\r\n}\r\n\r\n// 数字不足10补0\r\nconst twoDigits = number => {\r\n    if (number < 10) return '0' + number;\r\n    return number;\r\n}\r\n\r\n/**\r\n * 处理消息，自动转换消息中的链接\r\n * 只是别 http | https | tcp 打头的链接\r\n * eg: http://www.lmsail.com | https://www.baidu.com | tcp://192.168.0.101:8008 | http://192.168.0.101:8008\r\n */\r\nexport const handleMessage = message => {\r\n    // message = message.replace(/<(?!a).*?>/g, '') // 删除所有html标签，只保留a标签\r\n    message = message.replace(/<[^>]+>/g, '') // 删除所有html标签\r\n    //message = message.replace(/(\\n)/g, '') // 删除所有换行\r\n    if(message.length <= 0) return {__html: '[不支持的消息内容]'};\r\n    const reg = /(http:\\/\\/|https:\\/\\/|tcp:\\/\\/)+([\\w.,@?^=%&:/~+#-]*[\\w@?^=%&/~+#-])/g;\r\n    message = message.replace(reg, ' <a target=\"_blank\" href=\"$1$2\">$1$2</a> ')\r\n    return {__html: message}\r\n}\r\n\r\n/**\r\n * 生成本地消息ID\r\n * @description 用于修复自己发送的消息无message_id导致撤回失败的问题\r\n */\r\nexport const createMsgID = () => {\r\n    const count = 10;\r\n    let arr = [], message_id = 'local_';\r\n    for (let i = 0; i < count; i++) {\r\n        arr[i] = i + 1;\r\n    }\r\n    arr.sort(() => 0.5 - Math.random()); //排序\r\n    arr.map(item => message_id += item);\r\n    return message_id;\r\n}\r\n","/**\r\n * 包含了n个接口请求的函数的模块\r\n */\r\n\r\nimport { Request } from '../utils'\r\n\r\n/* ------------ 登录、注册、退出 ------------ */\r\n\r\n// 登录接口\r\nexport const reqLogin = ({username, password}) => Request('/auth/login', { username, password })\r\n\r\n// 注册接口\r\nexport const reqRegister = (username, nickname, password) => Request('/auth/register', { username, nickname, password })\r\n\r\n// 退出接口\r\nexport const reqLogout = () => Request('/auth/logout', {})\r\n\r\n\r\n/* ------------ 用户模块 ------------ */\r\n\r\n// 获取用户信息\r\nexport const reqUserInfo = id => Request('/user', { id })\r\n\r\n// 更新用户信息\r\nexport const reqUpdateUinfo = ({fieldName, fieldValue}) => Request('/user/info', {fieldName, fieldValue})\r\n\r\n// 更新用户密码\r\nexport const reqUpdatePassword = ({ password, new_password }) => Request('/user/password', { password, new_password })\r\n\r\n// 更新用户头像\r\nexport const reqUpdateAvatar = file => Request('/user/avatar', { file })\r\n\r\n// 搜索用户列表\r\nexport const reqUserSearch = keyword => Request('/user/search', { keyword })\r\n\r\n\r\n/* ------------ 会话模块 ------------ */\r\n\r\n// 移除指定的会话窗口\r\nexport const reqDelContactItem = friend_id => Request('/contact/remove', { friend_id })\r\n\r\n\r\n/* ------------ 好友模块 ------------ */\r\n\r\n// 获取通讯录列表\r\nexport const reqFriendList = () => Request('/friend', {})\r\n\r\n// 获取好友申请列表\r\nexport const reqFriendVerify = () => Request('/friend/verify', {})\r\n\r\n// 添加好友\r\nexport const reqFriendAdd = ({ friend_id, remark }) => Request('/friend/add', { friend_id, remark })\r\n\r\n// 处理好友请求\r\nexport const reqFriendHandle = ({ friend_id, option }) => Request('/friend/handle', { friend_id, option })\r\n\r\n// 更改好友备注\r\nexport const reqFriendRemark = ({ friend_id, remark }) => Request('/friend/remark', { friend_id, remark })\r\n\r\n\r\n/* ------------ 聊天消息模块 ------------ */\r\n\r\n// 历史消息\r\nexport const reqHistoryMessage = ({friend_id, page = 0}) => Request('/message/list', {friend_id, page})\r\n\r\n","// 存放用户相关的方法\n\nimport { reqLogin, reqLogout, reqRegister, reqUpdatePassword, reqUpdateUinfo, reqUserInfo, reqUserSearch } from \"../../api\";\nimport { removeItem, setItem } from \"../../utils\";\nimport { message as AM, notification } from \"antd\";\nimport store from \"../store\";\nimport {AUTH_SUCCESS, LOGOUT, SET_REDIRECT_PATH, SET_RESPONSE_MSG, USERINFO, USERSEARCH_LIST} from \"../types/UserTypes\";\n\n/* ------------ 同步 Actions ------------ */\n\n// 登录认证成功\nexport const authSuccess = user => ({type: AUTH_SUCCESS, data: user})\n\n// 退出\nexport const logOut = () => ({ type: LOGOUT, data: {} })\n\n// 当前登录用户信息\nexport const userLoginInfo = user => ({type: USERINFO, data: user})\n\n// 搜索的用户列表\nexport const searchUserList = user => ({ type: USERSEARCH_LIST, data: user })\n\n// 设置跳转地址\nexport const setRdirectPath = path => ({ type: SET_REDIRECT_PATH, data: path })\n\n// 设置全局响应提示\nexport const setResponseMsg = (type, page, message) => ({ type: SET_RESPONSE_MSG, data: {type, page, message} })\n\n\n/* ------------ 异步 Actions ------------ */\n\n// 用户登录\nexport const login = (username, password, callBack) => {\n    return async dispatch => {\n        const response = (await reqLogin({username, password})).data\n        if (response.code === 200) {\n            setItem('token', response.data.token)\n            dispatch(authSuccess(response.data))\n            notification.open({\n                message: `🎉 欢迎登录小站，喜欢可以点个小星星✨`, description: `可在 ‘添加好友’ 页面，搜索 ‘M先生’（作者）添加好友哦！`\n            });\n        } else {\n            AM.error(response.message)\n            callBack()\n        }\n    }\n}\n\n// 用户注册\nexport const register = (username, nickname, password) => {\n    return async dispatch => {\n        const response = (await reqRegister(username, nickname, password)).data\n        if(response.code === 200) {\n            AM.success(response.message)\n            setTimeout(() => dispatch(setRdirectPath('/login')), 1000)\n        } else {\n            AM.error(response.message)\n        }\n    }\n}\n\n// 退出登录\nexport const logout = () => {\n    return async dispatch => {\n        removeItem('token'); dispatch(logOut())\n        await reqLogout();\n    }\n}\n\n// 获取指定用户信息\nexport const getUserInfo = () => {\n    return async dispatch => {\n        const response = (await reqUserInfo()).data\n        if(response.code === 200) {\n            dispatch(userLoginInfo({userInfo: response.data}))\n        } else {\n            AM.error(response.message)\n        }\n    }\n}\n\n// 修改用户信息\nexport const modifyUserInfo = (fieldName, fieldValue) => {\n    return async dispatch => {\n        const response = (await reqUpdateUinfo({ fieldName, fieldValue })).data\n        if(response.code === 200) {\n            let { userInfo } = (store.getState()).user\n            userInfo[fieldName] = fieldValue\n            dispatch(userLoginInfo({ userInfo }))\n        } else {\n            AM.error(response.message)\n        }\n    }\n}\n\n// 修改密码\nexport const modifyPassword = (password, new_password) => {\n    return async dispatch => {\n        const response = (await reqUpdatePassword({ password, new_password })).data\n        const { code, message } = response\n        dispatch(setResponseMsg( code, 'userInfo', message))\n        dispatch(setResponseMsg( code, null, null))\n        if(code === 200) {\n            setTimeout(() => dispatch(logout()), 1000)\n        }\n    }\n}\n\n// 同步用户头像\nexport const syncUserAvatar = avatar => {\n    return async dispatch => {\n        let { userInfo } = (await store.getState()).user\n        userInfo['avatar'] = avatar\n        dispatch(userLoginInfo({ userInfo }))\n    }\n}\n\n// 模糊搜索用户\nexport const findUserList = (keyword, callback) => {\n    return async dispatch => {\n        const response = (await reqUserSearch(keyword)).data\n        if(response.code === 200) {\n            dispatch(searchUserList(response.data))\n        } else {\n            AM.error(response.message)\n        }\n        callback()\n    }\n}\n","/**\n * 存放好友相关操作\n */\nimport {message as AM, notification} from \"antd\";\nimport { reqFriendList, reqFriendRemark, reqFriendVerify } from \"../../api\";\nimport { pySegSort } from \"../../utils\";\nimport store from \"../store\";\nimport { changeRightType, initSessionList, socket } from \"./InitActions\";\nimport { GET_NEW_FRIENDS, GET_USER_MAILLIST, INIT_FRIEND_INFO, SETNEWFRIEND_NUM } from \"../types/FriendTypes\";\n\n/* ------------ 同步 Actions ------------ */\n\n// 获取好友通讯录列表\nexport const getMailList = list => ({type: GET_USER_MAILLIST, data: list})\n\n// 获取好友申请列表\nexport const getNewFriends = list => ({type: GET_NEW_FRIENDS, data: list})\n\n// 收到好友申请\nexport const recvNewFriend = data => ({type: SETNEWFRIEND_NUM, data})\n\n// 查看好友信息\nexport const showFriendInfo = friend => ({type: INIT_FRIEND_INFO, data: friend})\n\n\n/* ------------ 异步 Actions ------------ */\n\n// 设置好友基本信息\nexport const setFriendInfo = friendInfo => {\n    return async dispatch => {\n        await dispatch(changeRightType('userInfo'))\n        await dispatch(showFriendInfo(friendInfo))\n    }\n}\n\n// 获取用户通讯录列表\nexport const getFriendList = () => {\n    return async dispatch => {\n        const response = (await reqFriendList()).data\n        if(response.code === 200) {\n            dispatch(getMailList(pySegSort(response.data)))\n        } else {\n            AM.error(response.message)\n        }\n    }\n}\n\n// 获取好友申请列表\nexport const getNewFriendList = () => {\n    return async dispatch => {\n        const response = (await reqFriendVerify()).data\n        if(response.code === 200) {\n            dispatch(getNewFriends(response.data))\n        } else {\n            AM.error(response.message)\n        }\n    }\n}\n\n// 好友验证请求\nexport const handleFriendVerify = (friend_id, option, sessionList, type = 'send') => {\n    return async dispatch => {\n        if(type === 'send') {\n            return socket.emit('handlefriend', { friend_id, option })\n        }\n        let { newFriend } = (store.getState()).friend\n        newFriend.map(item => {\n            if(item.user_id === friend_id) item.status = option\n            return item\n        })\n        if(option === 1) dispatch(getFriendList()) // 通过后重新获取通讯录列表\n        dispatch(getNewFriends(newFriend)) // 获取好友申请列表\n        dispatch(recvNewFriend({type: 'reduce', number: 0})) // 好友申请数量自减1\n        await dispatch(initSessionList(sessionList))\n    }\n}\n\n// 更改好友备注\nexport const modifyFriendNickRemark = (friend_id, remark, info) => {\n    return async dispatch => {\n        const response = (await reqFriendRemark({ friend_id, remark })).data\n        if(response.code === 200) {\n            info.nick_remark = remark\n            dispatch(getFriendList())\n            dispatch(showFriendInfo(info))\n        } else {\n            AM.error(response.message)\n        }\n    }\n}\n\n// 添加好友\nexport const addFriend = (friend_id, remark) => {\n    return dispatch => {\n        socket.emit('addfriend', {friend_id, remark});\n        AM.success('好友申请已发送')\n    }\n}\n\n/**\n * 添加好友回执，执行消息提醒等\n * @param {*} data 返回的是发送申请的用户信息\n */\nexport const addFriendCall = data => {\n    return async dispatch => {\n        const { remark, userInfo } = data\n        notification.open({\n            message: `✉️ 来自[${userInfo.nickname}]的好友申请`, description: remark || `你好，我是${userInfo.nickname}`\n        });\n        await dispatch(recvNewFriend({type: 'inc', number: 0}))\n    }\n}\n","/**\n * 存放init相关操作\n */\nimport PubSub from \"pubsub-js\";\nimport store from \"../store\";\nimport { pySegSort } from \"../../utils\";\nimport { getLastMessage, setContactLastMessage } from \"./ContactActions\";\nimport { userLoginInfo } from \"./UserActions\";\nimport { getMailList, recvNewFriend } from \"./FriendActions\";\nimport { USERSESSION_LIST } from \"../types/ContactTypes\";\nimport { CHANGE_RIGHT_TYPE, INIT_CHAT_INFO, INIT_MESS_LIST, SET_GLOBAL_SOCKET, UPDATE_UNREADNUM } from \"../types/InitTypes\";\n\nexport let socket = null\n\n/* ------------ 同步 Actions ------------ */\n\n// 初始化聊天数据\nexport const initChatData = chat => ({type: INIT_CHAT_INFO, data: chat})\n\n// 切换右侧屈区域显示\nexport const showRightType = chat => ({type: CHANGE_RIGHT_TYPE, data: chat})\n\n// 初始化历史消息\nexport const initHistoryMsg = chat => ({type: INIT_MESS_LIST, data: chat})\n\n// 会话列表\nexport const userSessionList = data => ({type: USERSESSION_LIST, data})\n\n// 更新未读消息数量\nexport const updateUnReadNum = data => ({ type: UPDATE_UNREADNUM, data })\n\n// socket 相关 => 设置全局 socket 对象\nexport const setGlobalSocket = globalData => ({ type: SET_GLOBAL_SOCKET, data: globalData })\n\n\n/* ------------ 异步 Actions ------------ */\n\n// 设置全局socket连接对象\nexport const setSocketObject = socketObject => {\n    return async dispatch => {\n        socket = socketObject\n        dispatch(setGlobalSocket(socketObject))\n    }\n}\n\n/**\n * 界面信息初始化\n * { userInfo, sessionList, onlineFriend }\n * 当前用户信息 | 历史会话 | 在线的好友\n * @param {*} data\n */\nexport const initMain = data => {\n    const { userInfo, sessionList, mailList, newFriendNum } = data\n    return async dispatch => {\n        await dispatch(userLoginInfo({userInfo, contacts: sessionList}))\n        await dispatch(getMailList(pySegSort(mailList)))\n        await dispatch(recvNewFriend({type: 'assign', number: newFriendNum}))\n        await dispatch(initUnreadNum())\n    }\n}\n\n// 初始化历史会话列表\nexport const initSessionList = sessionList => {\n    return async dispatch => {\n        await dispatch(userSessionList({ sessionList }))\n        await dispatch(initUnreadNum())\n    }\n}\n\n/**\n * 修改未读数红点\n * 1、消息未读数量\n * 2、好友提醒未读\n */\nexport const initUnreadNum = () => {\n    return dispatch => {\n        let msgUnreadNum = 0, newFriendNum = 0\n        const { contacts } = (store.getState()).user\n        contacts.map(item => msgUnreadNum += item.unread_num)\n        dispatch(updateUnReadNum({ msgUnreadNum, newFriendNum }))\n    }\n}\n\n/**\n * 初始化socket连接\n * @description 每次点开聊天窗口都会触发\n * @param {*} chatUserInfo\n * @param {*} needSend 是否需要发送socket初始化请求\n */\nexport const initChatInfo = (chatUserInfo, needSend = true) => {\n    return async dispatch => {\n        const { friend_id } = chatUserInfo\n        if(needSend) socket.emit('join', { friend_id });\n        await dispatch(initChatData({chatUserInfo, showRightType: 'message'}))\n        await dispatch(initUnreadNum())\n        if(!needSend) PubSub.publish('messFirstLoadDone')\n    }\n}\n\n/**\n * 初始化消息列表\n * @description 这里是首次加载聊天时触发\n * @param {*} data\n */\nexport const initMessList = data => {\n    return async dispatch => {\n        const { list, friend_id } = data\n        await dispatch(initHistoryMsg(data))\n        dispatch(setContactLastMessage(friend_id, getLastMessage(list)))\n        PubSub.publish('messFirstLoadDone')\n    }\n}\n\n// 切换右侧显示状态\nexport const changeRightType = type => {\n    return dispatch => {\n        dispatch(showRightType({showRightType: type}))\n    }\n}\n","import { reqDelContactItem } from \"../../api\";\nimport { message as AM } from \"antd\";\nimport { initUnreadNum } from \"./InitActions\";\nimport store from \"../store\";\nimport { MODIFY_USER_CONTACTS } from \"../types/ContactTypes\";\n\n/* ------------ 同步 Actions ------------ */\n\n// 更新用户会话列表\nexport const modifyUserContacts = user => ({type: MODIFY_USER_CONTACTS, data: user})\n\n// 修改消息会话列表\nexport const modifyContacts = contacts => {\n    return dispatch => {\n        dispatch(modifyUserContacts({ contacts }))\n    }\n}\n\n\n/* ------------ 异步 Actions ------------ */\n\n// 移除指定的会话窗口\nexport const removeContactItem = (friend_id, contacts) => {\n    return async dispatch => {\n        const response = (await reqDelContactItem(friend_id)).data\n        if(response.code === 200) {\n            dispatch(modifyContacts(contacts))\n            dispatch(initUnreadNum())\n        } else {\n            AM.error(response.message)\n        }\n    }\n}\n\n// 获取聊天数据的最后一条消息\nexport const getLastMessage = list => {\n    if(list.length === 0) return null\n    const lastItem = list[list.length - 1]\n    return lastItem.status === 0 ? '[消息撤回]' : lastItem.message\n}\n\n// 获取当前窗口最后一条聊天数据并修改会话窗口\nexport const setContactLastMessage = (friend_id, last_message) => {\n    return dispatch => {\n        const { contacts } = (store.getState()).user\n        if(contacts) {\n            const index = contacts.findIndex(item => item.friend_id === friend_id)\n            const message = contacts[index]['last_mess']\n            contacts[index]['last_mess'] = message === 'loading...' ? last_message : message\n            dispatch(modifyContacts(contacts))\n        }\n    }\n}\n","import PubSub from \"pubsub-js\";\nimport { initUnreadNum, socket } from \"../actions/InitActions\";\nimport { reqHistoryMessage } from \"../../api\";\nimport { currentTime } from \"../../utils\";\nimport { APPEND_MESSLIST, HIDDEN_MORETEXT, RECEIVE_CHAT_MSG, SEND_CHAT_MSG, WITHDRAW_MESSAGE } from \"../types/MessageTypes\";\n\n/* ------------ 同步 Actions ------------ */\n\n// 追加消息\nexport const appendMesslist = data => ({ type: APPEND_MESSLIST, data })\n\n// 隐藏更多消息的文字\nexport const hiddenMoreText = data => ({ type: HIDDEN_MORETEXT, data })\n\n// 收到消息\nexport const receiveChatMsg = chat => ({type: RECEIVE_CHAT_MSG, data: chat})\n\n// 发送消息\nexport const sendChatMsg = chat => ({type: SEND_CHAT_MSG, data: chat})\n\n// 撤回消息\nexport const withDrawMessage = data => ({type: WITHDRAW_MESSAGE, data})\n\n\n/* ------------ 异步 Actions ------------ */\n\n// 发送消息\nexport const pushChatMsg = chat => {\n    return async dispatch => {\n        const { recv_id, message, local_message_id, type } = chat\n        socket.emit('message', { friend_id: recv_id, message, local_message_id, type })\n        await dispatch(sendChatMsg(chat))\n        dispatch(initUnreadNum())\n    }\n}\n\n// 收到好友消息\nexport const recvChatMsg = chat => {\n    return async dispatch => {\n        await dispatch(receiveChatMsg(chat))\n        dispatch(initUnreadNum())\n        PubSub.publish('playMessageSound') // 发送消息提醒事件\n    }\n}\n\n// 加载更多消息\nexport const findMoreMessage = (friend_id, user_id, page = 0) => {\n    return async dispatch => {\n        const response = (await reqHistoryMessage({friend_id, page})).data\n        const { code, data } = response\n        if(code === 200 && data.length > 0) {\n            await dispatch(appendMesslist({friend_id, user_id, list: data, page}))\n            if(data.length < 15) await dispatch(hiddenMoreText({friend_id, user_id, data, page}))\n        } else {\n            // 消息加载结束，将当前用户窗口的 showMoreText 设置为 false\n            await dispatch(hiddenMoreText({friend_id, user_id, data, page}))\n        }\n        PubSub.publish('messLoadDone')\n    }\n}\n\n// 发送消息撤回指令 data: {user_id, friend_id, message_id}\n// 适用于撤回发起人\nexport const withDrawMsgIns = data => {\n    return async dispatch => {\n        const { user_id, friend_id } = data\n        socket.emit('withdraw', data)\n        await dispatch(withDrawMessage(data))\n        await dispatch(receiveChatMsg({\n            send_id: friend_id, recv_id: user_id, sendUserInfo: {\n                user_id, friend_id,\n                last_mess: '[消息撤回]', unread_num: 0, created_at: currentTime()\n            }\n        }))\n    }\n}\n\n// 消息撤回动作 data: {user_id, friend_id, message_id}\n// 适用于撤回消息接收人\nexport const withDrawMsgAction = data => {\n    return async dispatch => {\n        const { user_id, friend_id } = data\n        dispatch(withDrawMessage(data))\n        await dispatch(receiveChatMsg({\n            send_id: user_id, recv_id: friend_id, sendUserInfo: {\n                user_id, friend_id,\n                last_mess: '[消息撤回]', created_at: currentTime()\n            }\n        }))\n    }\n}\n","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Avatar, Button, Row, Col, message as AM, Modal, Form, Input, Icon } from 'antd'\n\nimport { initChatInfo, modifyContacts, modifyFriendNickRemark } from '../../../redux/actions'\nimport { currentTime } from '../../../utils'\n\nclass Profile extends Component {\n\n    state = { visible: false, nickRemark: null, confirmLoading: false }\n\n    render() {\n        const {friend: {info}} = this.props\n        if (!info) return null\n        return <div className=\"m-user-info\">\n            <div className=\"user-info-main\">\n                <div className=\"basic-info border-b\">\n                    <div className=\"left\">\n                        <Avatar size={60} shape=\"square\" src={info.avatar}/>\n                    </div>\n                    <div className=\"right\">\n                        <div className=\"user-name\">{info.nick_remark || info.nickname}</div>\n                        <div className=\"user-desc\">昵称：{info.nickname || info.nick_remark}</div>\n                    </div>\n                    <div className=\"clearfix\" />\n                </div>\n                {this.getItemList()}\n                <div className=\"btn-operation\">\n                    <Button type=\"primary\" block={true} onClick={this.openMessage}>发送消息</Button>\n                    {/* <Button type=\"danger\" block={true} onClick={this.removeFriend}>移除好友</Button> */}\n                </div>\n            </div>\n            {this.nickModalDom()}\n        </div>\n    }\n\n    openMessage = () => {\n        let {friend: {info}, user: {contacts}} = this.props\n        if(contacts) {\n            if(contacts.findIndex(user => user.friend_id === info.friend_id) < 0) {\n                info.created_at = currentTime();  info.last_mess = 'loading...'; contacts.unshift(info)\n                this.props.modifyContacts(contacts)\n            }\n        }\n        this.props.initChatInfo(info)\n        this.props.history.push({pathname: '/'})\n    }\n\n    removeFriend = () => {\n        AM.error('既然已经加了我，为什么还想着删除我，你是飘了吗？');\n    }\n\n    changeModalStatus = visible => {\n        this.setState({ visible })\n    }\n\n    setNickRemark = e => {\n        const nickRemark = e.target.value;\n        this.setState({ nickRemark })\n    }\n\n    // 更新好友备注\n    saveFriendNickName = () => {\n        const {friend: { info }} = this.props\n        const { nickRemark } = this.state\n        if(!nickRemark) return AM.error('请输入备注/备注无更改')\n        this.setState({ confirmLoading: true, visible: false })\n        this.props.modifyFriendNickRemark(info.friend_id, nickRemark, info);\n        setTimeout(() => this.setState({ confirmLoading: false }), 500)\n    }\n\n    getItemList = () => {\n        const {friend: { info }} = this.props\n        const itemList = [\n            {itemName: \"地区\", itemValue: info.area || \"保密\"},\n            {itemName: \"备注\", itemValue: info.nick_remark || '未设置', action: () => this.changeModalStatus(true)},\n            {itemName: \"昵称\", itemValue: info.nickname},\n            {itemName: \"手机号\", itemValue: info.mobile || '保密'},\n            {itemName: \"个性签名\", itemValue: info.autograph || '暂无'},\n        ]\n        return itemList.map(item => (\n            <Row className=\"user-item border-b\" key={item.itemName}>\n                <Col span={4}>{item.itemName}</Col>\n                <Col span={20} onClick={item.action} style={{textAlign: \"right\", textIndent: 10}}>{item.itemValue}</Col>\n            </Row>\n        ))\n    }\n\n    nickModalDom = () => {\n        const { visible, confirmLoading } = this.state\n        const {friend: { info }} = this.props\n        return <Modal title={`修改好友[${info.nickname}]备注`} visible={visible} \n            confirmLoading={confirmLoading}\n            onCancel={() => this.changeModalStatus(false)}\n            onOk={this.saveFriendNickName}\n        >\n            <Form>\n                <Form.Item>\n                    <Input\n                        key={info.nickname} \n                        prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder='请输入备注' onChange={e => this.setNickRemark(e)}\n                        defaultValue={info.nick_remark}\n                    />\n                </Form.Item>\n            </Form>\n        </Modal>\n    }\n}\n\nexport default connect(\n    state => ({friend: state.friend, chat: state.chat, user: state.user}), \n    { initChatInfo, modifyContacts, modifyFriendNickRemark }\n)(withRouter(Profile))","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { Avatar, Row, Col, Icon } from 'antd'\n\nimport { setFriendInfo } from '../../../redux/actions/FriendActions'\n\nclass MessHeader extends Component {\n\n    render() {\n        const { chat: { chatUserInfo: { avatar, nickname, nick_remark }, chatUserInfo }} = this.props\n        return <Row>\n            <Col span={20}>\n                <Avatar shape=\"square\" size={36} src={avatar} />\n                <span style={{ fontSize: 18, marginLeft: 10, color: \"#000\" }}>{nick_remark || nickname}</span>\n            </Col>\n            <Col span={4}>\n                <div style={{ textAlign: \"right\" }}>\n                    <Icon type=\"more\" rotate=\"90\" className=\"icon-more\" onClick={() => this.showUserInfo(chatUserInfo)} />\n                </div>\n            </Col>\n       </Row>\n    }\n\n    showUserInfo = userInfo => {\n        this.props.setFriendInfo(userInfo)\n    }\n}\n\nexport default connect(\n    state => ({ chat: state.chat }), {setFriendInfo}\n)(withRouter(MessHeader))\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { Avatar, Row, Col, Icon } from 'antd'\n\nimport { setFriendInfo } from '../../../redux/actions/FriendActions'\n\nclass MessHeaderGroup extends Component {\n\n    render() {\n        const { chat: { chatUserInfo: { avatar, nickname, nick_remark }, chatUserInfo }} = this.props\n        return <Row>\n            <Col span={20}>\n                <Avatar shape=\"square\" size={36} src={avatar} />\n                <span style={{ fontSize: 18, marginLeft: 10, color: \"#000\" }}>{nick_remark || nickname}</span>\n            </Col>\n            <Col span={4}>\n                <div style={{ textAlign: \"right\" }}>\n                    <Icon type=\"more\" rotate=\"90\" className=\"icon-more\" onClick={() => this.showUserInfo(chatUserInfo)} />\n                </div>\n            </Col>\n       </Row>\n    }\n\n    showUserInfo = userInfo => {\n        this.props.setFriendInfo(userInfo)\n    }\n}\n\nexport default connect(\n    state => ({ chat: state.chat }), {setFriendInfo}\n)(withRouter(MessHeaderGroup))\n","import React, { Component } from 'react'\nimport { Row, Col, Avatar, Switch } from 'antd'\n\nclass GroupDetails extends Component {\n\n    state = { showDetails: false }\n\n    render() {\n        const { showDetails } = this.state\n        return <div className={[\"group-details \", showDetails ? \"in\" : null].join(' ')}>\n            {/* 群成员列表 */}\n            <div className=\"title\">群成员（29人）</div>\n            <Row gutter={16} className=\"member\">\n                {this.createMemberDom()}\n            </Row>\n\n            {/* 群设置 */}\n            <div className=\"title\" style={{ margin: \"10px 0 5px 0\" }}>群设置</div>\n            <div className=\"group-setting\">\n                <Row className=\"setting-item\">\n                    <Col span={12}>群名称</Col>\n                    <Col className=\"text-right text-secondary\" span={12}>测试群</Col>\n                </Row>\n                <Row className=\"setting-item\">\n                    <Col span={12}>我在本群的昵称</Col>\n                    <Col className=\"text-right text-secondary\" span={12}>M先生</Col>\n                </Row>\n                <Row className=\"setting-item\">\n                    <Col span={12}>群公告</Col>\n                    <Col className=\"text-right text-secondary\" span={12}>测试名称</Col>\n                </Row>\n                <Row className=\"setting-item\">\n                    <Col span={12}>置顶聊天</Col>\n                    <Col className=\"text-right\" span={12}>\n                        <span className=\"item-switch\">\n                            <Switch checkedChildren=\"开\" unCheckedChildren=\"关\" />\n                        </span>\n                    </Col>\n                </Row>\n                <Row className=\"setting-item\">\n                    <Col span={12}>消息免打扰</Col>\n                    <Col className=\"text-right\" span={12}>\n                        <span className=\"item-switch\">\n                            <Switch checkedChildren=\"开\" unCheckedChildren=\"关\" />\n                        </span>\n                    </Col>\n                </Row>\n                <div className=\"group-leave\">离开群</div>\n            </div>\n        </div>\n    }\n\n    createMemberDom = () => {\n        const memberList = [\n            { nickname: '马云', avatar: 'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1582778785114&di=4bf0a9cbe00cd200465af9fe46b3091e&imgtype=0&src=http%3A%2F%2Fwww.56ec.org.cn%2Fd%2Ffile%2Fnews%2Frwgd%2F2017-05-15%2Fa26c40ec7d83c66d78ad6f791952a01b.jpg' },\n            { nickname: 'Antd', avatar: 'https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png' },\n            { nickname: '高圆圆', avatar: 'https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3410711718,4003146871&fm=26&gp=0.jpg' },\n            { nickname: '刘亦菲', avatar: 'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1599725631785&di=222a2b16665394534032652c8b7234ea&imgtype=0&src=http%3A%2F%2F5b0988e595225.cdn.sohucs.com%2Fimages%2F20170828%2Fbca4530398cb45caa3101da954bc8a81.jpeg' },\n            { nickname: '宋茜', avatar: 'https://dss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=4082095625,4197768517&fm=26&gp=0.jpg' },\n            { nickname: '王者荣耀', avatar: 'http://react-server.lmsail.com/avatar/2020-11-10/50ce4eb44e.jpg' },\n            { nickname: '赵露思', avatar: 'https://dss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=2714458446,426719835&fm=26&gp=0.jpg' },\n            { nickname: '郑爽', avatar: 'http://img1.imgtn.bdimg.com/it/u=1186528863,3178811360&fm=26&gp=0.jpg' },\n            { nickname: '郑爽', avatar: 'http://img1.imgtn.bdimg.com/it/u=1186528863,3178811360&fm=26&gp=0.jpg' },\n            { nickname: '王健林', avatar: 'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1582778837077&di=f569a7c9412eae7b1068ee89ccc9aa9f&imgtype=0&src=http%3A%2F%2Fimg.mp.itc.cn%2Fupload%2F20170709%2Fc266207e9ec74666b4dee5f74c634ae1_th.jpg' },\n            { nickname: '添加', avatar: '' },\n        ];\n        return memberList.map((item, index) => <Col key={index} className=\"member-item\" span={6}>\n                <Avatar size=\"large\" src={item.avatar} icon=\"usergroup-add\" />\n                <div className=\"username\">{item.nickname}</div>\n            </Col>\n        )\n    }\n}\nexport default GroupDetails","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport copy from 'copy-to-clipboard'\nimport PubSub from 'pubsub-js'\nimport LazyLoad from 'react-lazyload'\nimport { Element, scroller } from 'react-scroll'\nimport { Avatar, Row, Col, Skeleton, Icon, Dropdown, Menu, Modal, message as AM } from 'antd'\nimport { friendTimeShow, handleMessage } from '../../../utils'\nimport { findMoreMessage, withDrawMsgIns } from '../../../redux/actions'\nimport GroupDetails from '../../../components/group/details'\nimport DefaultIcon from '../../../assets/images/icon/default.png'\n\nlet prevTime = null; // 存放上一次的消息时间节点\nlet messKey = 0;     // 当前窗口的消息key\n\nclass Message extends Component {\n\n    state = { loadmore: false, message_id: 0, message: null, visible: false, previewImage: null }\n\n    componentDidMount() {\n        setTimeout(() => this.scrollToBottom(), 0)\n\n        // 消息首次加载完成\n        PubSub.subscribe('messFirstLoadDone', ()  => this.scrollToBottom())\n\n        // 消息加载结束\n        PubSub.subscribe('messLoadDone', () => this.setState({ loadmore: false }))\n\n        // 监听消息追加/提醒（接收到消息，主动发送消息）\n        PubSub.subscribe('messListAppend', () => this.scrollToBottom())\n        PubSub.subscribe('playMessageSound', () => this.scrollToBottom())\n        PubSub.subscribe('messListUpdateCount', (_, res) => this.scrollTo(`mess${res.count - 1}`))\n    }\n\n    componentDidUpdate() {\n        const { chat: { chatUserInfo: { friend_id } }, user: { userInfo: { id } } } = this.props\n        messKey = id > friend_id ? `${friend_id}${id}` : `${id}${friend_id}`\n    }\n\n    render() {\n        const { visible, previewImage } = this.state\n        const { chat: { loading } } = this.props\n        return (\n            <div className=\"h100\">\n                <Element id=\"containerElement\" className=\"h100 containerElement\">\n                    <Skeleton loading={loading} avatar={{shape: 'square'}} active paragraph={{rows: 6}}>\n                        {this.createLoadMoreDom(messKey)}\n                        {this.createMessList(messKey)}\n                    </Skeleton>\n                </Element>\n                <Modal visible={visible} footer={null} onCancel={ () => this.setState({ visible: false }) }>\n                    <img alt=\"\" style={{ width: '100%' }} src={previewImage} />\n                </Modal>\n                <GroupDetails />\n            </div>\n        )\n    }\n\n    // 消息撤回\n    withdraw = () => {\n        const { message_id } = this.state\n        if(!message_id) return AM.error('获取消息id失败，这里待修复！！')\n        const { chat: { chatUserInfo: { friend_id } }, user: { userInfo: { id, nickname } } } = this.props\n        this.props.withDrawMsgIns({ message_id, friend_id, user_id: id, nickname})\n    }\n\n    // 加载更多消息\n    getMoreMessage = key => {\n        const { chat: { messStatus } } = this.props\n        let { page } = messStatus[key]\n        page++\n        const { chat: { chatUserInfo: { friend_id } }, user: { userInfo: { id } } } = this.props\n        this.setState({ loadmore: true })\n        this.props.findMoreMessage(friend_id, id, page)\n    }\n\n    // 获取加载更多的文字提示\n    createLoadMoreDom = key => {\n        const { chat: { messStatus } } = this.props\n        if(messStatus && messStatus[key]) {\n            const { showMoreText } = messStatus[key]\n            if(!showMoreText) return null\n            return this.state.loadmore ? (\n                <div className=\"message-more\">以上是历史消息，<span><Icon type=\"loading\" spin /></span></div>\n            ) : (\n                <div className=\"message-more\">以上是历史消息，<span onClick={() => this.getMoreMessage(key)}>点击加载更多</span></div>\n            )\n        }\n    }\n\n    // 获取消息列表的 dom 结构\n    createMessList = key => {\n        const { chat: { chatUserInfo, messList }, user: { userInfo } } = this.props\n        const { friend_id } = chatUserInfo\n        if(!messList[key]) return null\n\n        return messList[key].map((item, index) => {\n            const header = this.createMessHeader(item, index)\n            if (header) return header\n            const msgTimeDom = this.createMessTimeDom(item.created_at, index)\n            if (item.send_id === friend_id) {\n                return this.createSelfMessageNode(item, index, msgTimeDom, chatUserInfo)\n            } else {\n                return this.createFriendMessageNode(item, index, msgTimeDom, userInfo)\n            }\n        })\n    }\n\n    // 生成提示类型的消息\n    createMessHeader = (item, index) => {\n        if(item.type && item.type === 'separate') { // 翻页分隔符\n            return <div key={index} className=\"separate\">\n                <span>{item.time ? `时光倒流至 ${friendTimeShow(item.time)} - 第 ${item.page} 页` : `以上是第 ${item.page} 页的记录`}</span>\n            </div>\n        }\n        if(item.type && item.type === 'messdone') { // 加载到底分隔符\n            return <div key={index} className=\"separate\"><span>美好的回忆总是短暂的，尽情享受当下吧～</span></div>\n        }\n        if(item.status === 0) { // 撤回消息类型\n            return <div key={index} className=\"message-withdraw\"><span>{item.message}</span></div>\n        }\n        if(!item.message) return null\n    }\n\n    // 生成时间节点\n    createMessTimeDom = (createdTime, index) => {\n        const endTime = createdTime ? new Date(Date.parse(createdTime.replace(/-/g, \"/\"))) : new Date();\n        // 第一条消息默认追加时间节点\n        if(index === 0) {\n            prevTime = endTime;\n            return <div key={index} className=\"message-time\"><span>{friendTimeShow(createdTime)}</span></div>\n        }\n        // 70秒外的记录增加时间节点\n        let messageDom = \"\"\n        const diffTime = Math.floor((endTime > prevTime ? endTime - prevTime : prevTime - endTime) / 1000); // 相差的秒\n        if(diffTime > 70) {\n            prevTime = endTime;\n            messageDom = <div key={index} className=\"message-time\"><span>{friendTimeShow(createdTime)}</span></div>\n        }\n        return messageDom\n    }\n\n    // 生成自己发送的消息节点\n    createSelfMessageNode = (item, index, msgTimeDom, userInfo) => {\n        return <Element key={index} name={`mess` + index}>\n            {msgTimeDom}\n            <div className=\"message-item message-left\">\n                <Row>\n                    <Col span={1} style={{ minWidth: \"48px\" }}>\n                        <Avatar shape=\"square\" size={35} src={item.avatar || userInfo.avatar}/>\n                    </Col>\n                    <Col span={20}>\n                        <div className=\"message\">{this.createDropMessDom(item, 'target')}</div>\n                    </Col>\n                </Row>\n            </div>\n        </Element>\n    }\n\n    // 生成好友发送的消息节点\n    createFriendMessageNode = (item, index, msgTimeDom, chatUserInfo) => {\n        return <Element key={index} name={`mess` + index}>\n            {msgTimeDom}\n            <div className=\"message-item message-right\">\n                <div className=\"pull-left message\"> {this.createDropMessDom(item)} </div>\n                <div className=\"pull-right\">\n                    <Avatar shape=\"square\" size={35} src={item.avatar || chatUserInfo.avatar}/>\n                </div>\n                <div style={{clear: \"both\"}}/>\n            </div>\n        </Element>\n    }\n\n    // 生成右键撤回消息节点\n    // type:self(自己的消息)|target(好友的消息)\n    createDropMessDom = (item, type = 'self') => {\n        const menu = type === 'self' ? (\n            <Menu>\n                <Menu.Item onClick={() => this.withdraw()}><Icon type=\"delete\" /> 撤回</Menu.Item>\n                <Menu.Item onClick={() => this.copyMessage()}><Icon type=\"copy\" /> 复制</Menu.Item>\n            </Menu>\n        ) : <Menu><Menu.Item onClick={() => this.copyMessage()}><Icon type=\"copy\" /> 复制</Menu.Item></Menu>\n        return (\n            <Dropdown trigger={['contextMenu']} overlay={menu} onVisibleChange={() => this.setMessageInfo(item.id || item.local_message_id, item.message)}>\n                {this.createMessContentDom(item)}\n            </Dropdown>\n        )\n    }\n\n    // 生成消息内容节点\n    createMessContentDom = item => {\n        item.type = item.type || 'text'\n        return item.type === 'text' ? (\n            <span><i dangerouslySetInnerHTML={handleMessage(item.message)} /></span>\n        ) : (\n            <span className=\"normal\">\n                <LazyLoad key={item} height={200} overflow={true} once placeholder={<img width=\"100%\" height=\"100%\" src={DefaultIcon} alt=\"logo\"/>}>\n                    <img src={item.message} width=\"100%\" onClick={() => this.picPreview(item.message)} alt=\"\" />\n                </LazyLoad>\n            </span>\n        )\n    }\n\n    // 设置当前选中的消息id与消息内容\n    setMessageInfo = (message_id, message) => {\n        const selectText = document.getSelection().toString();\n        if(message_id && this.state.message_id !== message_id) {\n            this.setState({ message_id, message: selectText || message })\n        } else {\n            this.setState({ message: selectText || message })\n        }\n    }\n\n    // 复制消息\n    copyMessage = () => {\n        copy(this.state.message)\n    }\n\n    // 查看图片大图\n    picPreview = picPath => {\n        this.setState({ visible: true, previewImage: picPath })\n    }\n\n    // 滚动到底部\n    scrollToBottom = () => {\n        const { chat: { messList } } = this.props\n        if(messKey && messList && messList[messKey]) \n            this.scrollTo(`mess${messList[messKey].length - 1}`)\n    }\n\n    // 滚动到指定 dom 位置\n    scrollTo = element => {\n        scroller.scrollTo(element, {\n            duration: 0,\n            smooth: 'easeInOutQuart',\n            containerId: 'containerElement'\n        })\n    }\n}\n\nexport default connect(\n    state => ({chat: state.chat, user: state.user}),\n    { findMoreMessage, withDrawMsgIns }\n)(Message)\n","import React, { Component } from 'react'\n\nconst emjoy = '😄 😊 😃 😉 😍 😘 😚 😳 😁 😌 😜 😝 😒 😏 😓 😔 😖 😥 😰 😨 😣 😢 😭 😂 😱 😠 😪 😷 😇 😋 😧 😦 😯 😵 😛 😶 😎 😅 😟 👍 👎 👏 🙏 ✊ ❗ 🔞 🚳 📵 🆙 🐲 🎉 🔥 🌹 💔 🌱 💣 💥 🎲 💰 🔔 🔕 💩 🐮 🍺 💎 👀';\nconst emjoyList = emjoy.split(\" \");\n\nclass FaceEmjoy extends Component {\n    render() {\n        const { showFace } = this.props\n        return <section className=\"face-emjoy\" style={{ display: showFace ? 'block' : 'none' }}>\n            <div className=\"face-container\">{ emjoyList.map(item => <span className=\"emjoy\" onClick={e => this.sendFace(e, item)} key={item}>{ item }</span>) }</div>\n        </section>\n    }\n\n    sendFace = (e, emjoy) => {\n        e.nativeEvent.stopImmediatePropagation()\n        this.props.parent.getFaceItem(this, emjoy)\n    }\n}\nexport default FaceEmjoy","import React, {Component} from 'react'\nimport {connect} from 'react-redux'\nimport PubSub from 'pubsub-js'\nimport axios from 'axios'\nimport Dropzone from 'react-dropzone'\nimport { Button, Col, Icon, Input, message as AM, Row, Tooltip } from 'antd'\n\nimport { modifyContacts, pushChatMsg, recvChatMsg } from '../../../redux/actions'\nimport FaceEmjoy from '../../../components/message/face'\nimport { createMsgID, currentTime, getItem } from '../../../utils'\nimport { serverUrl } from '../../../config/config'\n\nclass ChatTextarea extends Component {\n\n    state = { message: '', showFace: false }\n\n    componentDidMount(){\n        document.onclick = () => this.setState({ showFace: false })\n    }\n\n    componentWillUnmount() {\n        document.onclick = null // 在组件卸载时，取消事件监听\n    }\n\n    render() {\n        const { showFace } = this.state\n        return (\n            <Dropzone accept=\"image/*\" multiple={false} maxFiles={2} onDrop={(files) => this.sendPicMsg(this, files)}>\n                {({getRootProps, getInputProps}) => (\n                    <section {...getRootProps({ className: 'dropzone-section' })}>\n                        <input {...getInputProps({disabled: true})} className=\"drop-input\" />\n                        <Row className=\"chat-tools\">\n                            <Col span={18}>\n                                <Tooltip title=\"表情\"><Icon type=\"smile\" onClick={e => this.showFace(e)} /></Tooltip>\n                                <Tooltip title=\"支持拖拽发送图片\"><Icon type=\"picture\" /></Tooltip>\n                                <Tooltip title=\"发送代码片段\"><Icon type=\"code\" /></Tooltip>\n                                <FaceEmjoy parent={ this } showFace={showFace} />\n                            </Col>\n                            <Col span={6} style={{ textAlign: \"right\" }}>\n                                <Tooltip title=\"视频聊天\"><Icon type=\"video-camera\" style={{ marginRight: 10 }} /></Tooltip>\n                                <Tooltip title=\"截图\"><Icon type=\"scissor\" /></Tooltip>\n                            </Col>\n                        </Row>\n                        <Input.TextArea className=\"chat-textarea\"\n                            onChange={e => this.setMessageValue(e) }\n                            onPressEnter={e => this.sendChatMess(e) }\n                            placeholder=\"聊点什么呢...\"\n                            value={this.state.message}\n                        />\n                        <Button style={{ float: \"right\" }} onClick={ e => this.sendChatMess(e) }>发送</Button>\n                    </section>\n                )}\n            </Dropzone>\n        )\n    }\n\n    // 设置消息内容\n    setMessageValue = e => {\n        this.setState({ message: e.target.value })\n    }\n\n    // 显示表情\n    showFace = e => {\n        e.nativeEvent.stopImmediatePropagation()\n        const { showFace } = this.state\n        this.setState({ showFace: !showFace })\n    }\n\n    // 接收子组件传值\n    getFaceItem = (object, faceEmjoy) => {\n        let { message } = this.state\n        message = message + faceEmjoy + \" \"\n        this.setState({ message })\n    }\n\n    /**\n     * 修改最后一条消息，并调整位置\n     * @param contacts      会话列表\n     * @param chatUserInfo  当前窗口好友信息\n     * @param message       消息内容\n     * @param type          类型\n     */\n    sortContacts = (contacts, chatUserInfo, message, type = 'text') => {\n        const index = contacts.findIndex(user => user.friend_id === chatUserInfo.friend_id)\n        if(index >= 0) {\n            contacts[index].last_mess = type === 'text' ? message : '[图片]';\n            contacts[index].unread_num = 0;\n            contacts[index].created_at = currentTime()\n            if(index > 0) {\n                contacts.unshift(contacts.splice(index, 1)[0])\n            }\n            this.props.modifyContacts(contacts)\n        }\n    }\n\n    /**\n     * 对message基础过滤\n     * TODO 适配消息类型 文字：text/图片：pic\n     * @param e\n     * @returns {string|null}\n     */\n    filterMessage = e => {\n        e.preventDefault();\n        let { message } = this.state\n        if(!message || (message.replace(/(\\n)/g, '')).length === 0) {\n            this.setState({ message: '' })\n            return null\n        }\n        message = message.replace(/<[^>]+>/g, '') // 删除所有html标签\n        if(message.length <= 0) message = '[不支持的消息内容]'\n        if(message.length > 500) message += '\\n\\n❌ [消息内容过长，发送失败] ❌'\n        this.setState({ message: '' })\n        return message\n    }\n\n    /**\n     * 发送图片消息\n     * @param e\n     * @param files 数组-最大支持两张图片（非固定两张可自由调整 maxFiles 的值）\n     */\n    async sendPicMsg(e, files) {\n        if(files.length <= 0) AM.error('只支持发送图片且同时最多可发送两张图片哦！')\n        for (const file of files) {\n            file.preview = URL.createObjectURL(file) // 本地预览图\n            const response = (await this.upload(file)).data\n            if(response.code === 400) return AM.error(response.message)\n            this.sendChatMess(e, response.data, 'pic')\n        }\n    }\n\n    /**\n     * 上传图片 - 疑惑：为什么不能用封装后的请求而必须使用原使的 axios\n     * @param file\n     * @return Promise\n     */\n    async upload(file) {\n        const param = new FormData()  // 创建form对象\n        param.append('file', file)  // 通过append向form对象添加数据\n        return await axios.post(`${serverUrl}/message/upload`, param, {\n            headers: {\n                \"Authorization\": `Bearer ${getItem('token')}`,\n                \"Content-Type\": 'multipart/form-data'\n            }\n        })\n    }\n\n    /**\n     * 发送消息\n     * @param {*} e\n     * @param {*} message 为空则取state中message值\n     * @param {*} type    默认为text（文本类型）| pic（图片类型）\n     */\n    sendChatMess = (e, message = null, type = 'text') => {\n        if (!e.keyCode || (e.keyCode === 13 && !e.shiftKey)) {\n            message = message || this.filterMessage(e)\n            if(!message) return AM.error('不能发空消息!')\n            const { chat: { chatUserInfo }} = this.props\n            let { user: { userInfo, contacts } } = this.props\n            this.props.pushChatMsg({\n                local_message_id: createMsgID(), // 生成本地消息id\n                send_id: userInfo.id,\n                recv_id: chatUserInfo.friend_id,\n                message,\n                type // 消息类型，默认为文本消息类型\n            })\n            PubSub.publish('messListAppend')\n            this.sortContacts(contacts, chatUserInfo, message, type)\n        }\n    }\n}\n\nexport default connect(\n    state => ({ chat: state.chat, user: state.user }),\n    { pushChatMsg, recvChatMsg, modifyContacts }\n)(ChatTextarea)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Layout } from 'antd'\nimport PubSub from 'pubsub-js'\n\nimport MessHeader from './header'\nimport MessHeaderGroup from './headerGroup'\nimport Message from './message'\nimport ChatTextarea from './textarea'\n\nconst { Header, Content, Footer } = Layout\n\nclass MessageLayout extends Component {\n\n    state = { skin: null }\n\n    componentDidMount() {\n        PubSub.subscribe(\"changeSkin\", (_, res) => this.setState({ skin: res.skin }))\n        const skin = localStorage.getItem(\"message-skin\")\n        if(skin) this.setState({ skin })\n    }\n\n    render() {\n        const { skin } = this.state\n        return (\n            <div className=\"message-container\" style={{ backgroundImage: `url(${skin})` }}>\n                <Header className='message-header'>{this.getChatHeaderDom()}</Header>\n                <Content className='message-body'><Message /></Content>\n                <Footer className='message-footer'><ChatTextarea /></Footer>\n            </div>\n        )\n    }\n\n    getChatHeaderDom = () => {\n        const {chat: {chatUserInfo: { is_group }}} = this.props\n        if(is_group && is_group === 1) {\n            return <MessHeaderGroup />\n        }\n        return <MessHeader />\n    }\n}\n\nexport default connect(\n    state => ({chat: state.chat}), { }\n)(MessageLayout)\n","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Avatar, List, Button } from 'antd'\nimport { friendTimeShow } from '../../../utils'\nimport { handleFriendVerify } from '../../../redux/actions'\n\nclass NewFriend extends Component {\n\n    render() {\n        return (\n            <div className=\"m-user-info\">\n                <h2 className=\"main-title\">好友申请</h2>\n                <div className=\"friend-list\">{this.createMailListDom()}</div>\n            </div>\n        )\n    }\n\n    createMailListDom = () => {\n        let { friend: { newFriend } } = this.props\n        if(newFriend === null) newFriend = []\n        return (\n            <div className=\"m-list-item\">\n                <List split={true} className=\"m-list-user\" itemLayout=\"horizontal\" dataSource={newFriend}\n                      renderItem={user => (\n                          <List.Item key={user.user_id} actions={this.createOptionButton(user)}>\n                              <List.Item.Meta\n                                  avatar={<Avatar shape=\"square\" size=\"large\" style={{marginTop: 1}} src={user.avatar}/>}\n                                  title={user.nickname} description={`附言：${user.remark}`}\n                              />\n                              <div style={{color: \"#ccc\"}}>{friendTimeShow(user.created_at)}</div>\n                          </List.Item>\n                      )}\n                />\n            </div>\n        )\n    }\n\n    createOptionButton = user => {\n        const { user_id, status } = user\n        const statusTemp = {\n            0: [<Button type=\"primary\" onClick={() => this.handleVerify(user_id, 1)}>接受</Button>, <Button type=\"danger\" onClick={() => this.handleVerify(user_id, 2)}>拒绝</Button>],\n            1: ['已通过'],\n            2: [<span style={{color: 'red'}}>已拒绝</span>]\n        }\n        return statusTemp[status]\n    }\n\n    handleVerify = (user_id, option) => {\n        this.props.handleFriendVerify(user_id, option)\n    }\n}\n\nexport default connect(\n    state => ({friend: state.friend, chat: state.chat}), { handleFriendVerify }\n)(withRouter(NewFriend))","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { Input, List, Avatar, Divider, Button, Modal, Form, Icon, message as AM, Alert } from 'antd'\nimport { findUserList, addFriend } from '../../../redux/actions'\n\nclass NewFriend extends Component {\n\n    state = { friend_id: 0, remark: null, visible: false, loading: false }\n\n    render() {\n        const { searchList } = this.props.user\n        return (\n            <div className=\"m-user-info\">\n                <h2 className=\"main-title\">添加好友</h2>\n                <div className=\"friend-list\">\n                <Alert message=\"搜索结果会自动过滤已是好友的用户\" style={{marginBottom: 10}} banner type=\"info\" showIcon />\n                    <Input.Search placeholder=\"用户昵称\" loading={this.state.loading} enterButton=\"查找\" size=\"large\" onSearch={value => this.searchAction(value)} />\n                    <Divider orientation=\"left\">本次搜索结果</Divider>\n                    <List className=\"add-friend\" itemLayout=\"horizontal\" dataSource={searchList} split={false}\n                        renderItem={item => (\n                            <List.Item actions={[<Button type=\"primary\" onClick={() => this.setFriendID(item.id)}>添加好友</Button>]}>\n                                <List.Item.Meta\n                                    avatar={<Avatar shape=\"square\" size=\"large\" src={item.avatar} />}\n                                    title={item.nickname}\n                                    description={item.autograph || '这个家伙很懒，什么都没留下！'}\n                                />\n                            </List.Item>\n                        )}\n                    />\n                    { this.createRemarkModal() }\n                </div>\n            </div>\n        )\n    }\n\n    createRemarkModal = () => {\n        const { visible } = this.state\n        return <Modal title=\"添加请求备注\" visible={visible}\n            onCancel={() => this.changeModalStatus(false)}\n            onOk={this.addFriendAction}\n        >\n            <Form>\n                <Form.Item>\n                    <Input\n                        prefix={<Icon type=\"fire\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                        placeholder='请输入验证备注' onChange={e => this.setRemark(e)}\n                    />\n                </Form.Item>\n            </Form>\n        </Modal>\n    }\n\n    searchAction = keyword => {\n        if(!keyword) return AM.error('请输入用户昵称搜索')\n        this.setState({ loading: true })\n        this.props.findUserList(keyword, () => this.setState({ loading: false }))\n    }\n\n    changeModalStatus = visible => {\n        this.setState({ visible })\n    }\n\n    // 设置当前好友ID\n    setFriendID = friend_id => {\n        this.setState({ friend_id, visible: true })\n    }\n\n    // 设置请求备注\n    setRemark = e => {\n        const remark = e.target.value\n        this.setState({ remark })\n    }\n\n    // 添加好友\n    addFriendAction = () => {\n        const { friend_id, remark } = this.state\n        this.props.addFriend(friend_id, remark)\n        this.changeModalStatus(false)\n    }\n}\n\nexport default connect(\n    state => ({user: state.user}), { findUserList, addFriend }\n)(withRouter(NewFriend))\n","/**\n * layout 左右布局，适用于 通讯录 与 会话列表 页面\n */\nimport React, {Component} from 'react'\nimport {Route, withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport PropTypes from 'prop-types'\nimport {Layout} from 'antd'\n\nimport Welcome from '../welcome'\nimport UserInfo from '../../pages/maillist/friend/profile'\nimport ChatMessage from '../../pages/chat/message'\nimport FriendApply from '../../pages/maillist/friend/newfriend'\nimport AddFriend from '../../pages/maillist/friend/addfriend'\n\nconst {Sider} = Layout\n\nclass LayoutMain extends Component {\n\n    static propTypes = {\n        router: PropTypes.object.isRequired,\n    }\n\n    render() {\n        const {router, chat: {showRightType}} = this.props\n        return (\n            <Layout>\n                <Sider className=\"contacts-list\" defaultCollapsed=\"true\" collapsedWidth=\"251\" theme=\"light\">\n                    <Route path={router.path} component={router.components}/>\n                </Sider>\n                <Layout className=\"layout-right\">\n                    {this.getRenderRight(showRightType)}\n                </Layout>\n            </Layout>\n        )\n    }\n\n    getRenderRight = showRightType => {\n        switch(showRightType) {\n            case 'welcome':\n                return <Welcome />\n            case 'userInfo':\n                return <UserInfo />\n            case 'newFriend':\n                return  <FriendApply />\n            case 'addFriend':\n                return <AddFriend />\n            default:\n                return <ChatMessage />\n        }\n    }\n}\n\nexport default connect(\n    state => ({chat: state.chat}), {}\n)(withRouter(LayoutMain))\n","import React, { Component } from 'react'\nimport { Input, Row, Col } from 'antd'\n\nconst { Search } = Input\nexport default class InputSearch extends Component {\n    render() {\n        return  <Row>\n            <Col span={24}>\n                <Search placeholder=\"搜索好友昵称\" className=\"input-search\" onSearch={value => console.log(value)} />\n            </Col>\n        </Row>\n    }\n}","import React, { Component } from 'react'\nimport PropTypes from \"prop-types\";\n\nclass GroupItem extends Component {\n\n    static propTypes = {\n        groupInfo: PropTypes.object.isRequired,\n    }\n\n    render() {\n        const { groupInfo } = this.props\n        // console.log('群成员信息', groupInfo)\n        return <div className=\"group-item\">\n            <div className=\"ant-list-item-meta\">\n                <div className=\"ant-list-item-meta-avatar\">\n                    <span className=\"ant-badge\">\n                        {this.createGroupMemberDom(groupInfo.member)}\n                    </span>\n                </div>\n                <div className=\"ant-list-item-meta-content\">\n                    <h4 className=\"ant-list-item-meta-title\">lmsail-im测试群</h4>\n                    <div className=\"ant-list-item-meta-description\">郑爽：这个群不错啊！</div>\n                </div>\n            </div>\n            <div className=\"timeDate\">18:53</div>\n        </div>\n    }\n\n    createGroupMemberDom = () => {\n        return <div className=\"headGroup avatar_8\">\n            <img src=\"http://react-server.lmsail.com/avatar/2020-11-10/50ce4eb44e.jpg\" alt=\"user\" />\n            <img src=\"http://react-server.lmsail.com/default/default-1.png\" alt=\"user\" />\n            <img src=\"http://react-server.lmsail.com/default/default-2.png\" alt=\"user\" />\n            <img src=\"http://react-server.lmsail.com/default/default-3.png\" alt=\"user\" />\n            <img src=\"http://react-server.lmsail.com/default/default-4.png\" alt=\"user\" />\n            <img src=\"http://react-server.lmsail.com/default/default-5.png\" alt=\"user\" />\n            <img src=\"http://react-server.lmsail.com/default/default-2.png\" alt=\"user\" />\n            <img src=\"http://react-server.lmsail.com/default/default-3.png\" alt=\"user\" />\n            <img src=\"http://react-server.lmsail.com/default/default-4.png\" alt=\"user\" />\n        </div>\n    }\n}\nexport default GroupItem\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { List, Skeleton, Avatar, Badge, Menu, Dropdown } from 'antd'\nimport InputSearch from './search'\nimport { friendTimeShow } from '../../../utils'\nimport { initChatInfo, modifyContacts, changeRightType, removeContactItem } from '../../../redux/actions'\nimport GroupItem from '../../../components/group/item'\n\nclass Contacts extends Component {\n\n    state = { friend_id: 0, index: 0, groupInfo: null }\n\n    componentDidMount() {\n        const groupInfo = {\n            id: -1, user_id: 1, friend_id: 99, last_mess: '郑爽：这是什么鬼？', unread_num: 0, is_group: 1,\n            group_name: 'lmsail-im 测试群',\n            member: [\n                // {avatar: 'http://react-server.lmsail.com/default/default-1.png', nickname: '郑爽'},\n                // {avatar: 'http://react-server.lmsail.com/default/default-2.png', nickname: '吞拿鱼'},\n                // {avatar: 'http://react-server.lmsail.com/default/default-3.png', nickname: '宋茜'},\n                // {avatar: 'http://react-server.lmsail.com/default/default-4.png', nickname: '马云'},\n                // {avatar: 'http://react-server.lmsail.com/default/default-5.png', nickname: '王健林'},\n                // {avatar: 'http://react-server.lmsail.com/default/default-4.png', nickname: '马云'},\n                // {avatar: 'http://react-server.lmsail.com/default/default-2.png', nickname: '吞拿鱼'},\n                // {avatar: 'http://react-server.lmsail.com/default/default-3.png', nickname: '宋茜'},\n                // {avatar: 'http://react-server.lmsail.com/avatar/2020-11-10/50ce4eb44e.jpg', nickname: '王者荣耀'},\n            ]\n        }\n        this.setState({ groupInfo })\n    }\n\n    render() {\n        let {user: {contacts}} = this.props\n        contacts = this.unshiftContacts(contacts)\n        const menu = <Menu>\n            <Menu.Item key=\"1\" onClick={() => this.handleMenuEvent('remove')}>移除会话</Menu.Item>\n            <Menu.Item key=\"2\" onClick={() => this.handleMenuEvent('show')}>发起会话</Menu.Item>\n            <Menu.Item key=\"3\" onClick={() => this.handleMenuEvent('top')}>置顶会话</Menu.Item>\n        </Menu>\n        return (\n            <div>\n                <div className=\"user-search\"><InputSearch/></div>\n                <List className=\"conversation-list\" itemLayout=\"horizontal\" split={false} dataSource={contacts}\n                    renderItem={(item, index) => (\n                        <Dropdown overlay={menu} trigger={['contextMenu']}>\n                            {this.createListItemDom(item, index)}\n                        </Dropdown>\n                    )}\n                />\n            </div>\n        )\n    }\n\n    // 生成聊天列表会话节点\n    createListItemDom = (item, index) => {\n        const {chat: {chatUserInfo: {friend_id}}} = this.props\n        if(item.member) {\n            return <List.Item onClick={() => this.joinGroupRoom(index)}><GroupItem groupInfo={this.state.groupInfo} /></List.Item>\n        }\n        return <List.Item onContextMenu={() => this.setSessionId(item.friend_id, index)}\n            className={item.friend_id !== friend_id || 'active'}\n            onClick={() => this.joinPrivateRoom(item.id)}\n        >\n            <Skeleton avatar loading={item.loading} active>\n                <List.Item.Meta\n                    avatar={\n                        <Badge count={item.unread_num}>\n                            <Avatar shape=\"square\" size=\"large\" src={item.avatar} />\n                        </Badge>\n                    }\n                    title={item.nick_remark || item.nickname} description={item.last_mess}\n                />\n                <div className=\"timeDate\">{friendTimeShow(item.created_at)}</div>\n            </Skeleton>\n        </List.Item>\n    }\n\n    // 向 contacts 前追加群数据\n    // TODO 这里仅仅是模拟，后续改为动态\n    unshiftContacts = contacts => {\n        const { groupInfo } = this.state\n        if(groupInfo) {\n            const index = contacts.findIndex(item => item.member)\n            if(index < 0) contacts.unshift(groupInfo)\n            return contacts\n        }\n        return []\n    }\n\n    setSessionId = (friend_id, index) => {\n        this.setState({friend_id, index})\n    }\n\n    handleMenuEvent = type => {\n        const {friend_id, index} = this.state\n        let {user: {contacts}, chat: {chatUserInfo}} = this.props\n        switch (type) {\n            case 'remove': // 移除会话\n                contacts.splice(index, 1)\n                if(contacts.length === 0 || chatUserInfo.friend_id === friend_id) {\n                    this.props.changeRightType('welcome')\n                }\n                this.props.removeContactItem(friend_id, contacts)\n                break\n            case 'show': // 查看详情\n                this.joinPrivateRoom(0, index)\n                break\n            default: // 置顶会话\n                contacts.unshift(contacts.splice(index, 1)[0])\n                this.props.modifyContacts(contacts)\n        }\n    }\n\n    // 进入私聊房间\n    joinPrivateRoom = (id, index = 0) => {\n        const {user: { contacts, userInfo: { id: user_id } }, chat: { messList }} = this.props\n        index = index > 0 ? index : contacts.findIndex(item => item.id === id)\n        contacts[index].unread_num = 0\n        const { friend_id } = contacts[index]\n        const key = user_id > friend_id ? `${friend_id}${user_id}` : `${user_id}${friend_id}`\n        const needSend = !(messList && messList[key])\n        this.props.initChatInfo(contacts[index], needSend)\n    }\n\n    // 进入群聊房间\n    joinGroupRoom = (id, index = 0) => {\n        const { user: { contacts } } = this.props\n        this.props.initChatInfo(contacts[index], false)\n    }\n}\n\nexport default connect(\n    state => ({chat: state.chat, user: state.user}),\n    { initChatInfo, modifyContacts, changeRightType, removeContactItem }\n)(Contacts)\n","import React, {Component} from 'react'\n\nimport LayoutMain from '../../components/layout'\nimport Contacts from './contacts'\n\nclass ChatContainer extends Component {\n    render() {\n        return (\n            <LayoutMain router={{path: '/', components: Contacts}}/>\n        )\n    }\n}\n\nexport default ChatContainer","const menuList = [\n    {\n        title: '个人信息',\n        path: '/setting',\n        icon: 'user'\n    },\n    {\n        title: '消息设置',\n        path: '/set-message',\n        icon: 'message'\n    },\n    {\n        title: '界面设置',\n        path: '/set-page',\n        icon: 'laptop'\n    },\n    {\n        title: '登录设置',\n        path: '/set-login',\n        icon: 'lock'\n    },\n    {\n        title: '关于项目',\n        path: '/set-about',\n        icon: 'pushpin'\n    }\n]\n\nexport default menuList","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter, Link } from 'react-router-dom'\nimport { Menu, Icon } from 'antd'\n\nimport menuList from '../../config/settingMenu'\n\nclass SettingNav extends Component {\n\n    UNSAFE_componentWillMount() {\n        this.menuDoms = this.getMenuDom()\n    }\n\n    getMenuDom = () => {\n        return menuList.map(item => (\n            <Menu.Item key={item.path}>\n                <Link to={item.path}><Icon type={item.icon} /> {item.title}</Link>\n            </Menu.Item>\n        ))\n    }\n\n    render() {\n        const path = this.props.location.pathname\n        return (\n            <div className=\"setting-menu\">\n                <h2>设置</h2>\n                <Menu selectedKeys={path}>{ this.menuDoms }</Menu>\n            </div>\n        )\n    }\n}\n\nexport default connect(\n    state => ({ user: state.user }),\n    {}\n)(withRouter(SettingNav))","import React, {Component} from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { Avatar, Row, Col, Button, Modal, message as AM, Icon, Upload, Form, Input } from 'antd'\nimport { modifyUserInfo, modifyPassword, syncUserAvatar, logout } from '../../../redux/actions'\nimport { getItem } from '../../../utils'\nimport { serverUrl } from '../../../config/config'\nimport './user-info.less'\n\nclass UserInfo extends Component {\n\n    state = {\n        avatarVisible: false,\n        infoVisible: false,\n        passwordVisible: false,\n        confirmLoading: false,\n        fieldName: null, fieldValue: null, title: null,\n        oldPassword: null,\n        newPassword: null,\n        confirmPassword: null,\n        uploadDisabled: false\n    }\n\n    render() {\n        const { userInfo } = this.props.user\n        const { type, page, message } = this.props.globalResponse\n        if(page === 'userInfo' && message) {\n            type === 200 ? AM.success(message) : AM.error(message)\n        }\n        return (\n            <div>\n                <div className=\"basic-info border-b\">\n                    <div className=\"left\">\n                        <Avatar size={60} shape=\"square\" src={userInfo.avatar} />\n                        <div className=\"edit-avatar\" onClick={() => this.changeModalStatus('avatar')}><Icon type=\"cloud-upload\" /></div>\n                    </div>\n                    <div className=\"right\">\n                        <div className=\"user-name\">{userInfo.nickname}</div>\n                        <div className=\"user-desc\">手机号：{userInfo.mobile || '未填写'}</div>\n                    </div>\n                    <div className=\"clearfix\"/>\n                </div>\n                {this.getItemList()}\n                <div className=\"btn-operation\">\n                    <Button type=\"danger\" block={true} onClick={() => this.logout()}>退出登录</Button>\n                    <Button block={true} onClick={() => this.changeModalStatus('password')}>修改密码</Button>\n                </div>\n                {this.createAvatarModal()}\n            </div>\n        )\n    }\n\n    // 显示或隐藏\n    changeModalStatus = (name, visible = true) => {\n        this.setState({ [`${name}Visible`]: visible })\n    }\n\n    // 实时修改字段值\n    setFieldValue = e => {\n        const fieldValue = e.target.value\n        this.setState({ fieldValue })\n    }\n\n    // 实时修改输入框值\n    setInputValue = (e, field) => {\n        const value = e.target.value\n        this.setState({ [field]: value })\n    }\n\n    // 设置需要修改的值模态框\n    setModifyField = (fieldName, title) => {\n        this.setState({ fieldName, title, infoVisible: true })\n    }\n\n    // 修改信息 action\n    handleModifyInfo = () => {\n        const { fieldName, fieldValue } = this.state\n        this.setState({ confirmLoading: true, infoVisible: false })\n        this.props.modifyUserInfo(fieldName, fieldValue)\n        setTimeout(() => this.setState({ confirmLoading: false }), 500)\n    }\n\n    // 头像上传前验证 -> 限制格式，大小等\n    beforeuploadAvatar = file => {\n        const fileTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/jpg'];\n        if (!fileTypes.includes(file.type)) {\n            return AM.error('您只能上传JPG/PNG 文件!');\n        }\n        return file.size / 1024 < 100;\n    }\n\n    // 头像上传进度\n    uploadProgress = info => {\n        const { status, response } = info.file\n        if(status === \"uploading\") {\n            this.setState({ uploadDisabled: true })\n        } else if (status === \"done\") {\n            this.setState({ uploadDisabled: false, avatarVisible: false })\n            this.props.syncUserAvatar(response.data)\n            AM.success(\"头像上传成功\")\n        } else {\n            this.setState({ uploadDisabled: false })\n            AM.error(\"头像上传失败, 图片大小必须小于100KB!\")\n        }\n    }\n\n    getItemList = () => {\n        const {user: {userInfo}} = this.props\n        const itemList = [\n            {itemName: \"地区\", itemValue: userInfo.area || '未设置', action: () => this.setModifyField('area', '地区')},\n            {itemName: \"昵称\", itemValue: userInfo.nickname, action: () => this.setModifyField('nickname', '昵称')},\n            {itemName: \"手机号\", itemValue: userInfo.mobile || '未设置', action: () => this.setModifyField('mobile', '手机号')},\n            {itemName: \"个性签名\", itemValue: userInfo.autograph || '未设置', action: () => this.setModifyField('autograph', '个性签名')},\n        ]\n        return itemList.map((item, index) => (\n            <Row className=\"user-item border-b\" key={index}>\n                <Col span={4}>{item.itemName}</Col>\n                <Col span={20} onClick={item.action} style={{textAlign: \"right\", textIndent: 10}}>{item.itemValue}</Col>\n            </Row>\n        ))\n    }\n\n    createAvatarModal = () => {\n        const { avatarVisible, infoVisible, passwordVisible, fieldName, title, confirmLoading, uploadDisabled } = this.state\n        const { user: { userInfo } } = this.props\n        const defaultValue = userInfo[fieldName]\n        return (\n            <div>\n                {/* 头像上传模态框 */}\n                <Modal visible={avatarVisible} title=\"上传头像\" footer={false} onCancel={() => this.changeModalStatus('avatar', false)}>\n                    <Upload.Dragger\n                        name=\"file\" multiple={false} showUploadList={false}\n                        disabled={uploadDisabled}\n                        beforeUpload={this.beforeuploadAvatar}\n                        action={`${serverUrl}/user/avatar`}\n                        onChange={this.uploadProgress}\n                        headers={{ \"Authorization\": `Bearer ${getItem('token')}` }}\n                    >\n                        <p className=\"ant-upload-drag-icon\">\n                            <Icon type=\"cloud-upload\" />\n                        </p>\n                        <p className=\"ant-upload-text\">点击这里上传头像</p>\n                    </Upload.Dragger>\n                </Modal>\n\n                {/* 更新用户信息的模态框 */}\n                <Modal visible={infoVisible} title={`修改用户${title}`}\n                    confirmLoading={confirmLoading}\n                    onCancel={() => this.changeModalStatus('info', false)}\n                    onOk={this.handleModifyInfo}\n                >\n                    <Form.Item>\n                        <Input\n                            key={title} defaultValue={defaultValue}\n                            prefix={<Icon type=\"fire\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            placeholder={`请输入${title}`} onChange={e => this.setFieldValue(e)}\n                        />\n                    </Form.Item>\n                </Modal>\n\n                {/* 修改密码的模态框 */}\n                <Modal visible={passwordVisible} title=\"修改密码\"\n                    onCancel={() => this.changeModalStatus('password', false)}\n                    onOk={this.modifyPassword}\n                >\n                    { this.createFormInput('oldPassword', '旧密码') }\n                    { this.createFormInput('newPassword', '新密码') }\n                    { this.createFormInput('confirmPassword', '确认密码') }\n                </Modal>\n            </div>\n        )\n    }\n\n    // 创建修改密码的输入框\n    createFormInput = (field, placeholder) => {\n        return <Form.Item>\n            <Input\n                type=\"password\"\n                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                placeholder={`请输入${placeholder}`} onChange={e => this.setInputValue(e, field)}\n            />\n        </Form.Item>\n    }\n\n    // 修改密码\n    modifyPassword = () => {\n        const { oldPassword, newPassword, confirmPassword } = this.state\n        if(!oldPassword) return AM.error(\"请输入旧密码\")\n        if(!newPassword) return AM.error(\"请输入新密码\")\n        if(!confirmPassword) return AM.error(\"请再次输入新密码\")\n        if(newPassword !== confirmPassword) return AM.error(\"两次密码输入不一致\")\n        this.props.modifyPassword(oldPassword, newPassword)\n        this.changeModalStatus('password', false)\n    }\n\n    logout = () => {\n        const self = this\n        Modal.confirm({\n            title: '确定退出当前帐号吗？退出后无法接收在线消息哦！',\n            content: '聊天记录不受影响，再次上线会自动推送离线消息',\n            cancelText: '取消',\n            okText: '确定',\n            onOk() {\n                AM.loading('正在为您退出，请稍候...', 0);\n                setTimeout(() => self.props.logout(), 500)\n            },\n        });\n    }\n}\n\nexport default connect(\n    state => ({user: state.user, globalResponse: state.globalResponse}),\n    { modifyUserInfo, modifyPassword, syncUserAvatar, logout }\n)(withRouter(UserInfo))\n","import React, { Component } from 'react'\n\nimport UserInfo from '../../../components/commom/user-info'\n\nexport default class User extends Component {\n    render() {\n        return (\n            <div style={{ height: \"100%\" }}>\n                <h2 className=\"main-title\">个人信息</h2>\n                <section className=\"set-content\">\n                    <div className=\"set-info\">\n                        <UserInfo />\n                    </div>\n                </section>\n            </div>\n        )\n    }\n}","import React, { Component } from 'react'\nimport { Switch } from 'antd'\n\nexport default class MessageSetting extends Component {\n    render() {\n        return (\n            <div style={{ height: \"100%\" }}>\n                <h2 className=\"main-title\">消息设置</h2>\n                <section className=\"set-content\">\n                    <div className=\"set-info loginSetting\">\n                        <div className=\"switch-item\">\n                            <div className=\"item-title\">桌面通知</div>\n                            <div className=\"item-desc\">开启后，新消息到达时将显示桌面通知</div>\n                            <span className=\"item-switch\">\n                                <Switch checkedChildren=\"开\" unCheckedChildren=\"关\" />\n                            </span>\n                        </div>\n\n                        <div className=\"switch-item no-border\">\n                            <div className=\"item-title\">声音提醒</div>\n                            <div className=\"item-desc\">开启后，新消息到达时将有声音提醒</div>\n                            <span className=\"item-switch\">\n                                <Switch checkedChildren=\"开\" unCheckedChildren=\"关\" />\n                            </span>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        )\n    }\n}","import React, { Component } from 'react'\nimport {Switch} from \"antd\";\n\nexport default class PageSetting extends Component {\n    render() {\n        return (\n            <div style={{ height: \"100%\" }}>\n                <h2 className=\"main-title\">界面设置</h2>\n                <section className=\"set-content\">\n                    <div className=\"set-info interface\">\n\n                        <div className=\"switch-item\">\n                            <div className=\"item-title\">默认全屏显示</div>\n                            <div className=\"item-desc\">开启后，将会默认全屏显示</div>\n                            <span className=\"item-switch\">\n                                <Switch checkedChildren=\"开\" unCheckedChildren=\"关\" defaultChecked />\n                            </span>\n                        </div>\n\n                    </div>\n                </section>\n            </div>\n        )\n    }\n}","import React, { Component } from 'react'\nimport {Switch} from \"antd\";\n\nexport default class LoginSetting extends Component {\n    render() {\n        return (\n            <div style={{ height: \"100%\" }}>\n                <h2 className=\"main-title\">登录设置</h2>\n                <section className=\"set-content\">\n                    <div className=\"set-info loginPage\">\n\n                        <div className=\"switch-item\">\n                            <div className=\"item-title\">自动登录</div>\n                            <div className=\"item-desc\">开启后，将会记住您的登录信息，下次打开自动登录</div>\n                            <span className=\"item-switch\">\n                                <Switch checkedChildren=\"开\" unCheckedChildren=\"关\" />\n                            </span>\n                        </div>\n\n                    </div>\n                </section>\n            </div>\n        )\n    }\n}","/**\n * 设置页面导航路由\n */\nimport User from '../pages/setting/user'\nimport MessageSetting from '../pages/setting/message'\nimport PageSetting from '../pages/setting/page'\nimport LoginSetting from '../pages/setting/login'\nimport About from '../pages/setting/about'\n\nconst SettingNavRouter = [\n    {\n        path: '/setting',\n        components: User\n    },\n    {\n        path: '/set-message',\n        components: MessageSetting\n    },\n    {\n        path: '/set-page',\n        components: PageSetting\n    },\n    {\n        path: '/set-login',\n        components: LoginSetting\n    },\n    {\n        path: '/set-about',\n        components: About\n    }\n]\n\nexport default SettingNavRouter\n","import React, { Component } from 'react'\n\nimport ReactImg from '../../../assets/images/about/react.png'\nimport AntdImg from '../../../assets/images/about/antd.png'\nimport ReduxImg from '../../../assets/images/about/redux.png'\n\nexport default class About extends Component {\n    render() {\n        return (\n            <div style={{ height: \"100%\" }}>\n                <h2 className=\"main-title\">关于项目</h2>\n                <section className=\"set-content\">\n                    <div className=\"about\">\n                        <div className=\"about-item\">\n                            <img src={ReactImg} width=\"60\" alt=\"react-logo\" />\n                            <span>+</span>\n                            <img src={AntdImg} width=\"60\" alt=\"antd-logo\" />\n                            <span>+</span>\n                            <img src={ReduxImg} height=\"60\" alt=\"redux-logo\" />\n                        </div>\n                        <div className=\"about-item\">\n                            <h3><span role=\"img\" aria-label=\"🔥\">🔥</span> 作者自述</h3>\n                            <div className=\"author\" style={{ fontSize: 16 }}>\n                                一个多年从事后端的 <b>Ordinary Developers</b>，主攻<span>PHP</span>, 先后学习<span>Python</span>、<span>Go</span>等语言，\n                                本人前端技术盏一直处于<span>Jquery</span>阶段，自接触<span>Vue</span>后，被前端新技术的焕然一新所吸引，自接触<span>React</span>后，再次眼前一亮，\n                                故决定写点东西，从而本项目自此`出生`，本项目纯前端，后端根据各自技术盏自由组合\n                            </div>\n                        </div>\n                        <div className=\"about-item\">\n                            <h3><span role=\"img\" aria-label=\"🤝\">🤝</span> GitHub</h3>\n                            <div style={{ fontSize: 16 }}>\n                                Github仓库：<a href=\"https://github.com/lmsail/react-im\" rel=\"noopener noreferrer\" target=\"_blank\">https://github.com/lmsail/react-im</a>\n                            </div>\n                        </div>\n                        <div className=\"about-item\">\n                            <h3><span role=\"img\" aria-label=\"🌱\">🌱</span> 其它项目</h3>\n                            <div style={{ fontSize: 16 }}>\n                                <div style={{ marginBottom: 10 }}>\n                                    gin-blog（gin + gorm简洁博客）<br/><a rel=\"noopener noreferrer\" href=\"https://github.com/lmsail/gin-blog\" target=\"_blank\">https://github.com/lmsail/gin-blog</a>\n                                </div>\n                                <div style={{ marginBottom: 10 }}>\n                                    laravel-blog（laravel5.8支持MarkDown博客）<br/>\n                                    <a rel=\"noopener noreferrer\" href=\"https://github.com/lmsail/laravel-lmsail\" target=\"_blank\">https://github.com/lmsail/laravel-lmsail</a>\n                                </div>\n                                <div style={{ marginBottom: 10 }}>\n                                    NestJS react-im Server（基于 NestJS 实现的 react-im 配套服务端）<br/>\n                                    <a rel=\"noopener noreferrer\" href=\"https://github.com/lmsail/react-im-server\" target=\"_blank\">https://github.com/lmsail/react-im-server</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </div>\n        )\n    }\n}","import React, { Component } from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport { Layout } from 'antd'\n\nimport SettingNav from '../../components/setting-nav'\nimport SettingNavRouter from '../../config/settingNav'\n\nconst { Sider, Content } = Layout\n\nexport default class Setting extends Component {\n\n    UNSAFE_componentWillMount() {\n        this.ContentRouterDom = this.getContentDom()\n    }\n\n    render() {\n        return <Layout>\n            <Sider theme='light' className='setting-sider'><SettingNav /></Sider>\n            <Layout className='setting-content'>\n                <Content style={{ height: \"100%\" }}>\n                    <Switch> { this.ContentRouterDom } </Switch>\n                </Content>\n            </Layout>\n        </Layout>\n    }\n\n    getContentDom = () => {\n        return SettingNavRouter.map(item => (\n            <Route exact key={item.path} path={item.path} component={item.components} />\n        ))\n    }\n}","import React, { Component } from 'react'\nimport { Input, Row, Col, Button } from 'antd'\nimport { connect } from 'react-redux'\nimport { changeRightType } from '../../../redux/actions'\n\nconst { Search } = Input\nclass InputSearch extends Component {\n    render() {\n        return <Row gutter={[8, 8]}>\n            <Col span={20}>\n                <Search placeholder=\"搜索好友昵称\" className=\"input-search\" onSearch={value => console.log(value)} />\n            </Col>\n            <Col span={4}><Button icon=\"plus\" className=\"btn-plus\" onClick={this.showAddFriend} /></Col>\n        </Row>\n    }\n\n    showAddFriend = () => {\n        this.props.parent.removeSelect()\n        this.props.changeRightType('addFriend')\n    }\n}\n\nexport default connect(\n    state => ({friend: state.friend}), {changeRightType}\n)(InputSearch)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { List, Avatar, Badge } from 'antd'\n\nimport InputSearch from './search'\nimport { setFriendInfo, changeRightType, getNewFriendList } from '../../../redux/actions'\nimport newFriend from '../../../assets/images/icon/newfriend.png'\nimport groupIcon from '../../../assets/images/icon/qunliao.png'\n\nclass UserList extends Component {\n\n    state = { user_id: 0 }\n\n    render() {\n        const { user_id } = this.state\n        const { friend: { newFriendNum } } = this.props\n        return (\n            <div className=\"mail-users\">\n                <div className=\"user-search\"><InputSearch parent={this} /></div>\n                <div className={['mail-users-item', user_id === -1 ? 'active' : null].join(' ')} onClick={this.showNewFriend}>\n                    <img src={newFriend} alt=\"new-friend\"/> 新的朋友 <span className=\"new-friend-num\"><Badge count={newFriendNum} /></span>\n                </div>\n                <div className=\"mail-users-item\" style={{display: \"none\"}}\n                     onClick={this.showNewFriend}>\n                    <img src={groupIcon} alt=\"new-friend\"/> 创建群聊\n                </div>\n                <div className=\"mail-list\">{this.createMailListDom(user_id)}</div>\n            </div>\n        )\n    }\n\n    showNewFriend = () => {\n        this.setState({user_id: -1})\n        this.props.changeRightType('newFriend')\n        this.props.getNewFriendList()\n    }\n\n    removeSelect = () => {\n        this.setState({ user_id: 0 })\n    }\n\n    showUserInfo = user_id => {\n        this.setState({user_id})\n        this.props.setFriendInfo(this.getUserInfoById(user_id))\n    }\n\n    // 取出指定用户信息\n    getUserInfoById = user_id => {\n        const {friend: {mailList}} = this.props\n        const users = mailList.map(item => item.data.find(user => user.id === user_id))\n        return users.find(user => user && user.id === user_id)\n    }\n\n    createMailListDom = user_id => {\n        const {friend: {mailList}} = this.props\n        return mailList.map(item => (\n            <div className=\"m-list-item\" key={item.letter}>\n                <div className=\"m-list-title\">{item.letter}</div>\n                <List className=\"m-list-user\" itemLayout=\"horizontal\" dataSource={item.data} split={false}\n                      renderItem={user => (\n                          <List.Item\n                              className={user_id === user.id ? 'active' : null}\n                              onClick={() => this.showUserInfo(user.id)}\n                          >\n                              <List.Item.Meta\n                                  avatar={<Avatar shape=\"square\" size=\"large\" src={user.avatar}/>}\n                                  title={user.nick_remark ? `${user.nick_remark} (${user.nickname})` : user.nickname}\n                              />\n                          </List.Item>\n                      )}\n                />\n            </div>\n        ))\n    }\n}\n\nexport default connect(\n    state => ({friend: state.friend}),\n    { setFriendInfo, changeRightType, getNewFriendList }\n)(UserList)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport UserList from './list/userlist'\nimport LayoutMain from '../../components/layout'\n\nclass MailList extends Component {\n    render() {\n        return (\n            <LayoutMain router={{ path: '/friend', components: UserList }} />\n        )\n    }\n}\n\nexport default connect(\n    state => ({ chat: state.chat }), {}\n)(MailList)","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport { Form, Icon, Input, Button, Checkbox } from 'antd'\n\nimport { login } from '../../redux/actions'\nimport ReactLogo from '../../assets/images/about/react.png'\n\nclass Login extends Component {\n\n    state = { loginLoading: false }\n\n    componentDidMount() {\n        this.props.form.validateFields();\n    }\n\n    hasErrors = fieldsError => {\n        return Object.keys(fieldsError).some(field => fieldsError[field]);\n    }\n\n    render() {\n        const { loginLoading } = this.state\n        const { form: { getFieldDecorator, getFieldsError, getFieldError, isFieldTouched }, user: { redirectTo, msg } } = this.props\n        if (redirectTo && !msg) {\n            if (redirectTo === '/login') window.location.reload()\n            return <Redirect to={redirectTo} />\n        }\n        const usernameError = isFieldTouched('username') && getFieldError('username');\n        const passwordError = isFieldTouched('password') && getFieldError('password');\n        return (\n            <div className=\"login-box\">\n                <div className=\"login-logo\">\n                    <img src={ReactLogo} alt=\"\" /> <h1 className=\"\">IM USER LOGIN</h1>\n                </div>\n                <Form onSubmit={this.handleSubmit} className=\"login-form\">\n                    {msg ? <div className='error-msg'>{msg}</div> : null}\n                    <Form.Item style={{ marginBottom: 15 }} validateStatus={usernameError ? 'error' : ''} help={usernameError || ''}>\n                        {getFieldDecorator('username', {\n                            rules: [{ required: true, message: '请输入账号!' }],\n                        })(\n                            <Input\n                                size=\"large\" placeholder=\"用户名\"\n                                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            />,\n                        )}\n                    </Form.Item>\n                    <Form.Item style={{ marginBottom: 5 }} validateStatus={passwordError ? 'error' : ''} help={passwordError || ''}>\n                        {getFieldDecorator('password', {\n                            rules: [{ required: true, message: '请输入密码!' }],\n                        })(\n                            <Input\n                                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                type=\"password\" size=\"large\" placeholder=\"密码\"\n                            />,\n                        )}\n                    </Form.Item>\n                    <Form.Item style={{ marginBottom: 5 }}><Checkbox defaultChecked>记住我</Checkbox></Form.Item>\n                    <Form.Item>\n                        <Button type=\"primary\" size=\"large\" htmlType=\"submit\" loading={loginLoading} block disabled={this.hasErrors(getFieldsError())}>登录</Button>\n                        <Button type=\"default\" size=\"large\" block onClick={this.register} style={{ marginTop: 15 }}>没有账号？注册</Button>\n                    </Form.Item>\n                </Form>\n            </div>\n        )\n    }\n\n    handleSubmit = e => {\n        e.preventDefault();\n        this.props.form.validateFields((err, values) => {\n            if (!err) {\n                this.setState({ loginLoading: true })\n                this.props.login(values.username, values.password, () => this.setState({ loginLoading: false }))\n            }\n        })\n    }\n\n    register = () => {\n        this.props.history.push({pathname: '/register'})\n    }\n}\n\nexport default connect(\n    state => ({ user: state.user }), { login }\n)(Form.create({ name: 'normal_login' })(Login))\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport { Button, Checkbox, Form, Icon, Input } from 'antd'\nimport { register } from '../../redux/actions'\nimport ReactLogo from \"../../assets/images/about/react.png\"\n\nclass Register extends Component {\n\n    render() {\n        const { form: { getFieldDecorator }, user: { msg, redirectTo } } = this.props\n        if (redirectTo) {\n            return <Redirect to={redirectTo} />\n        }\n        return (\n            <div className=\"login-box\" style={{ height: 560, top: 'calc(50% - 280px)' }}>\n                <div className=\"login-logo\">\n                    <img src={ReactLogo} alt=\"\" />\n                    <h1 className=\"\">IM USER REGISTER</h1>\n                </div>\n                <Form onSubmit={this.handleSubmit} className=\"login-form\">\n                    {msg ? <div className='error-msg'>{msg}</div> : null}\n                    <Form.Item style={{ marginBottom: 15 }}>\n                        {getFieldDecorator('username', {\n                            rules: [{ required: true, message: '请输入登录账号' }],\n                        })(\n                            <Input\n                                size=\"large\" placeholder=\"用户名\"\n                                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                            />,\n                        )}\n                    </Form.Item>\n                    <Form.Item style={{ marginBottom: 15 }}>\n                        {getFieldDecorator('nickname', {\n                            rules: [{ required: true, message: '请输入昵称!' }],\n                        })(\n                            <Input\n                                prefix={<Icon type=\"message\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                type=\"text\" size=\"large\" placeholder=\"昵称\"\n                            />,\n                        )}\n                    </Form.Item>\n                    <Form.Item style={{ marginBottom: 5 }}>\n                        {getFieldDecorator('password', {\n                            rules: [{ required: true, message: '请输入密码!' }],\n                        })(\n                            <Input\n                                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                type=\"password\" size=\"large\" placeholder=\"密码\"\n                            />,\n                        )}\n                    </Form.Item>\n                    <Form.Item style={{ marginBottom: 5 }}><Checkbox defaultChecked>同意<a href=\"http://www.lmsail.com\" target=\"_blank\" rel=\"noopener noreferrer\">《聊天室规章制度》</a></Checkbox></Form.Item>\n                    <Form.Item>\n                        <Button type=\"primary\" size=\"large\" htmlType=\"submit\" block>注册</Button>\n                        <Button type=\"default\" size=\"large\" block onClick={this.login} style={{ marginTop: 15 }}>已有账号？登录</Button>\n                    </Form.Item>\n                </Form>\n            </div>\n        )\n    }\n\n    handleSubmit = e => {\n        e.preventDefault();\n        this.props.form.validateFields((err, values) => {\n            if (!err) {\n                this.props.register(values.username, values.nickname, values.password)\n            }\n        })\n    }\n\n    login = () => {\n        this.props.history.push({pathname: '/login'})\n    }\n}\n\nexport default connect(\n    state => ({ user: state.user }), { register }\n)(Form.create({ name: 'normal_register' })(Register))\n","/**\n * 路由组件\n */\nimport ChatContainer from '../pages/chat'\nimport Setting from '../pages/setting'\nimport MailList from '../pages/maillist'\nimport Welcome from '../components/welcome'\nimport ChatMessage from '../pages/chat/message'\nimport Login from '../pages/login/login'\nimport Register from '../pages/login/register'\n\nconst Routers = [\n    {\n        path: '/',\n        components: ChatContainer\n    },\n    {\n        path: '/welcome',\n        components: Welcome\n    },\n    {\n        path: '/message',\n        components: ChatMessage\n    },\n    {\n        path: '/friend',\n        components: MailList\n    },\n    {\n        path: '/setting',\n        components: Setting\n    },\n    {\n        path: '/set-message',\n        components: Setting\n    },\n    {\n        path: '/set-page',\n        components: Setting\n    },\n    {\n        path: '/set-login',\n        components: Setting\n    },\n    {\n        path: '/set-about',\n        components: Setting\n    },\n    {\n        path: '/login',\n        components: Login\n    },\n    {\n        path: '/register',\n        components: Register\n    }\n]\n\nexport default Routers\n","/**\n * socket 事件处理\n */\nimport { message as AM } from 'antd'\nimport store from '../redux/store'\nimport { setSocketObject, initMain, initMessList, recvChatMsg, withDrawMsgAction, addFriendCall, handleFriendVerify, logout } from '../redux/actions'\n\n// 连接成功\nexport const connect = socket => {\n    // 连接成功，将 socket 对象写入 store 状态中，便于全局使用\n    store.dispatch(setSocketObject(socket))\n\n    // 定时发送心跳包\n    setInterval(() => socket.emit('ping', { message: 'pong' }), 30000)\n}\n\n// 初始化事件\nexport const init = message => {\n    // console.log('收到 init 消息', message)\n    store.dispatch(initMain(message.data))\n}\n\n/**\n * 进入聊天室事件\n * message: { user_id: 1, friend_id: 2, list: [] }\n * @param {*} message \n */\nexport const join = message => {\n    // console.log('系统消息 [join]', message)\n    store.dispatch(initMessList(message))\n}\n\n/**\n * 监听消息事件\n * message：{send_id: 2, message: \"撒打算打\", isOnline: false}\n * send_id: 发送方id | message：发送内容 | isOnline: 是否在线（暂时没用）\n */\nexport const message = message => {\n    // console.log('系统消息 [message]', message)\n    store.dispatch(recvChatMsg(message))\n}\n\n/**\n * 撤回消息 - 无时间限制\n * @param {*} message { message_id, user_id, friend_id}\n */\nexport const withdraw = message => {\n    // console.log('系统消息 [withdraw]', message)\n    store.dispatch(withDrawMsgAction(message))\n}\n\n/**\n * 好友申请消息\n * @param {*} message \n */\nexport const addFriend = message => {\n    store.dispatch(addFriendCall(message))\n}\n\n/**\n * 好友验证处理后的回调\n * @param {*} message \n */\nexport const handleFriend = message => {\n    console.log('xx处理了您的好友请求', message)\n    const { friend_id, option, sessionList } = message\n    store.dispatch(handleFriendVerify(friend_id, option, sessionList, 'handle'))\n}\n\n// 授权验证失败事件\nexport const authError = () => {\n    AM.error('登录信息已过期，请重新登录！')\n    setTimeout(() => store.dispatch(logout()), 1000)\n}\n\n// 连接错误\nexport const connectError = message => {\n    console.log('连接发生错误', message)\n    // AM.error('已与服务器断开连接!!')\n    // setTimeout(() => store.dispatch(logout()), 1000)\n}\n\n// 连接断开事件\nexport const disconnect = err => {\n    // console.log('socket连接断开事件', err)\n    AM.error('消息服务器连接断开，等待重连...')\n    // setTimeout(() => store.dispatch(logout()), 1000)\n}","/**\n * socketIO 实现与服务端交互\n */\nimport io from 'socket.io-client'\nimport { getItem } from '../utils'\nimport * as Event from './event'\nimport { socketUrl } from '../config/config'\n\nexport const MessServerConnect = () => {\n    \n    const socket = io.connect(socketUrl, {\n        query: `token=${getItem('token')}`,\n        reconnection: true\n    }); \n    \n    socket.on('connect', () => Event.connect(socket)); // 连接事件\n    \n    socket.on('init', message => Event.init(message)); // 监听初始化事件\n    \n    socket.on('join', message => Event.join(message)); // 监听 join 事件\n    \n    socket.on('message', message => Event.message(message)); // 监听 message 事件\n\n    socket.on('withdraw', message => Event.withdraw(message)); // 监听消息撤回事件\n\n    socket.on('addfriend', message => Event.addFriend(message)); // 监听添加好友消息\n\n    socket.on('handlefriend', message => Event.handleFriend(message)); // 监听吹好友验证的回调\n    \n    socket.on('authError', () => Event.authError()); // 连接错误时返回\n    \n    socket.on('ping', message => null); // 心跳包\n\n    socket.on('connect_error', message => Event.connectError(message)); // 连接错误\n    \n    socket.on('disconnect', err => Event.disconnect(err)); // 连接断开\n}\n","/**\n * 聊天也皮肤\n */\n\nimport messageBg1 from '../assets/images/skin/message-bg-1.png'\nimport messageBg2 from '../assets/images/skin/message-bg-2.png'\nimport messageBg3 from '../assets/images/skin/message-bg-3.png'\nimport messageBg4 from '../assets/images/skin/message-bg-4.png'\nimport messageBg5 from '../assets/images/skin/message-bg-5.png'\nimport messageBg6 from '../assets/images/skin/message-bg-6.png'\n\nexport const skinList = [\n    messageBg1,\n    messageBg2,\n    messageBg3,\n    messageBg4,\n    messageBg5,\n    messageBg6,\n]","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport PubSub from 'pubsub-js'\nimport { Link, withRouter } from 'react-router-dom'\nimport { Avatar, Icon, Menu, Layout, Badge, Tooltip, Modal, Row, Col } from 'antd'\nimport { getItem, setItem } from '../../utils'\nimport { skinList } from '../../config/skinConfig'\nconst { Sider } = Layout\n\nclass LeftNav extends Component {\n\n    state = { screenType: 'fullscreen-exit', visible: false }\n\n    componentDidMount() {\n        this.resetFullScreen()\n    }\n\n    render() {\n        const path = this.props.location.pathname\n        const { user: { userInfo, unread }, friend: { newFriendNum } } = this.props\n        if (!userInfo) return null\n        return (\n            <Sider className=\"left-nav\" defaultCollapsed=\"true\" collapsedWidth=\"68\">\n                <h2 className=\"user-avatar\" onClick={this.toSetting}>\n                    <Avatar shape=\"square\" size=\"large\" icon=\"user\" src={userInfo.avatar} />\n                </h2>\n                <div className=\"menus\">\n                    <Menu theme=\"dark\" mode=\"inline\" selectedKeys={[path]}>\n                        <Menu.Item key=\"/\" title=\"消息\">\n                            <Link to=\"/\"><Badge dot={unread > 0}><Icon type=\"message\" /></Badge></Link>\n                        </Menu.Item>\n                        <Menu.Item key=\"/friend\" title=\"通讯录\">\n                            <Link to=\"/friend\"><Badge dot={newFriendNum > 0}><Icon type=\"team\" /></Badge></Link>\n                        </Menu.Item>\n                        <Menu.Item key=\"download\" title=\"下载源码\">\n                            <a href=\"https://github.com/lmsail/lmsail-im\" target=\"_blank\" rel=\"noopener noreferrer\"><Icon type=\"github\" /></a>\n                        </Menu.Item>\n                        <Menu.Item style={{ display: \"none\" }} key=\"\" title=\"收藏\">\n                            <Link to=\"\"><Icon type=\"star\" /></Link>\n                        </Menu.Item>\n                        <Menu.Item style={{ display: \"none\" }} key=\"notice\" title=\"通知\">\n                            <Link to=\"/notice\"><Icon type=\"bell\" /></Link>\n                        </Menu.Item>\n                    </Menu>\n                </div>\n                <div className=\"left-icon\" style={{ bottom: \"150px\"}} onClick={() => this.showSkinModal(true)}>\n                    <Tooltip title=\"换肤 - 聊天页\"><Icon type=\"bg-colors\" /></Tooltip>\n                </div>\n                <div className=\"left-icon\" style={{ bottom: \"90px\"}} onClick={this.setFullScreen}>\n                    <Icon type={this.state.screenType} />\n                </div>\n                <div className={['left-icon', path === '/setting' ? 'active' : null].join(' ')} onClick={this.toSetting}>\n                    <Icon type=\"setting\" theme=\"filled\" />\n                </div>\n                {this.createSkinModal()}\n            </Sider>\n        )\n    }\n\n    createSkinModal = () => {\n        const { visible } = this.state\n        return <Modal visible={visible} title=\"换肤 - 作用于聊天页\" footer={false} onCancel={() => this.showSkinModal(false)}>\n            <Row gutter={16}>\n                {\n                    skinList.map((item, index) => {\n                        return <Col key={index} className=\"gutter-row\" span={8}>\n                            <div className=\"gutter-box\" onClick={() => this.setMessageBg(item)}>\n                                <img src={item} alt=\"\" /><span>选 择</span>\n                            </div>\n                        </Col>\n                    })\n                }\n            </Row>\n        </Modal>\n    }\n\n    showSkinModal = visible => {\n        this.setState({ visible })\n    }\n\n    toSetting = () => {\n        this.props.history.push({pathname: '/setting'})\n    }\n\n    setMessageBg = path => {\n        this.setState({ visible: false })\n        localStorage.setItem(\"message-skin\", path)\n        PubSub.publish(\"changeSkin\", { skin: path })\n    }\n\n    resetFullScreen = () => {\n        let screenType = getItem('screenType')\n        if(screenType) {\n            screenType = screenType === 'fullscreen' ? 'fullscreen-exit' : 'fullscreen'\n            this.setState({ screenType })\n        }\n    }\n\n    setFullScreen = () => {\n        const { screenType } = this.state\n        setItem('screenType', screenType)\n        this.resetFullScreen()\n        this.props.parent.setState({ screenType })\n    }\n}\n\nexport default connect(\n    state => ({ user: state.user, friend: state.friend }), {}\n)(withRouter(LeftNav))\n","import React, { Component } from 'react'\nimport PubSub from 'pubsub-js'\nimport messageSound from '../../assets/audio/message.mp3'\n\n/**\n * 新消息音效提醒\n */\nclass MessageSound extends Component {\n\n    componentDidMount() {\n        PubSub.subscribe('playMessageSound', (msg, data) => {\n            this.audioSource.load()\n            const promise = this.audioSource.play()\n            promise.catch(error => console.log('不支持直接播放音效'));\n        })\n    }\n\n    render() {\n        return (\n            <audio ref={audio => { this.audioSource = audio }}>\n                <source src={ messageSound } /> \n            </audio>\n        )\n    }\n}\n\nexport default MessageSound","import React, {Component} from 'react'\nimport { connect } from 'react-redux'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport { Layout } from 'antd'\nimport Routers from '../router'\nimport { getItem } from '../utils'\nimport { MessServerConnect } from '../socket'\nimport LeftNav from '../components/left-nav'\nimport MessageSound from '../components/sound/message'\n\nclass App extends Component {\n\n    state = { screenType: null, token: null, pathName: null }\n\n    UNSAFE_componentWillMount() {\n        const token = getItem('token')\n        const screenType = getItem('screenType')\n        const { pathname } = this.props.location\n        this.setState({ screenType, token, pathName: pathname }) \n        if(token) {\n            MessServerConnect(); // 连接 socket 服务器\n        }\n    }\n\n    render() {\n        const { pathName, token } = this.state\n        const { redirectTo } = this.props.user\n        if(pathName === '/register') return <Redirect to='/register' />\n        if (!token || redirectTo === '/login') return <Redirect to='/login' />\n        \n        return (\n            <Layout className={['container', this.state.screenType === 'fullscreen-exit' ? 'mini-pattern' : 'fullscreen-exit'].join(' ')}>\n                <LeftNav parent={this} />\n                <MessageSound /> {/* 新消息提醒音效 */}\n                <Switch>\n                    {Routers.map(item => <Route exact path={item.path} component={item.components} key={item.path}/>)}\n                    <Redirect to='/' />\n                </Switch>\n            </Layout>\n        )\n    }\n}\n\nexport default connect(\n    state => ({user: state.user}), {}\n)(App)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter, Route, Switch } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport store from './redux/store'\nimport App from './pages/app'\nimport Login from './pages/login/login'\nimport Register from './pages/login/register'\n\nimport './assets/css/base.less'\n\nReactDOM.render(\n    <Provider store={store}>\n        <HashRouter>\n            <Switch>\n                <Route path='/login' component={Login} />\n                <Route path='/register' component={Register} />\n                <Route component={App} />\n            </Switch>\n        </HashRouter>\n    </Provider>,\n    document.getElementById('root')\n)\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}